amis.define("f52541f",(function(e,t,r,n){"use strict";var o=e("849c8c1"),a=e("cc4bbf0"),i=e("d32df82"),l=e("c2555e3"),d=e("3634c4f"),c=e("520d1e1"),s=e("fb32b1a");function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=f(a),m={"margin-top":"marginTop","margin-right":"marginRight","margin-bottom":"marginBottom","margin-left":"marginLeft","padding-top":"paddingTop","padding-right":"paddingRight","padding-bottom":"paddingBottom","padding-left":"paddingLeft","border-top-width":"top-border-width","border-right-width":"right-border-width","border-bottom-width":"bottom-border-width","border-left-width":"left-border-width","border-top-style":"top-border-style","border-right-style":"right-border-style","border-bottom-style":"bottom-border-style","border-left-style":"left-border-style","border-top-color":"top-border-color","border-right-color":"right-border-color","border-bottom-color":"bottom-border-color","border-left-color":"left-border-color","font-size":"fontSize","font-weight":"fontWeight","line-height":"lineHeight"},g=["color","font-weight","font-size","font-style","text-decoration","text-align","vertical-align","font-family","line-height"];function h(e){var t=e.name,r=e.value,n=e.suffix,l=a.useState(""),s=l[0],f=l[1];a.useEffect((function(){!function(e,t,r){try{var n=(null==e?void 0:e.replace(t+"-",""))+(r?"-"+r:""),o=document.getElementById(n||"")||null,a=(null==o?void 0:o.innerHTML)||"",i=d.parse(a),l=[];i.nodes.forEach((function(e){var t=e.selector;t.endsWith(".hover")||t.endsWith(".active")||l.push(e)})),i.nodes=l;var c=l.map((function(e){var t=e.nodes.map((function(e){return"".concat(e.prop,": ").concat(e.value,";")}));return"".concat(e.selector," {\n  ").concat(t.join("\n  "),"\n}")})).join("\n\n");f(c)}catch(e){console.error(e)}}(r,t,n)}),[]);var h=c.debounce((function(t){var r;try{var n=d.parse(t),a=e.data,i=e.onBulkChange,l=e.name,c=a.css||{},s={};n.nodes.forEach((function(e){var t=e.nodes,r=e.selector,n="default";~r.indexOf(":hover:active")?n="active":~r.indexOf(":hover")&&(n="hover"),t.forEach((function(e){var t=e.prop,r=e.value;if(~t.indexOf("radius")){var o="radius:"+n;!s[o]&&(s[o]={});var a=r.split(" ");s[o]["top-left-border-radius"]=a[0],s[o]["top-right-border-radius"]=a[1],s[o]["bottom-right-border-radius"]=a[2],s[o]["bottom-left-border-radius"]=a[3]}else~t.indexOf("border")?(!s["border:"+n]&&(s["border:"+n]={}),s["border:"+n][m[t]||t]=r):~t.indexOf("padding")||~t.indexOf("margin")?(!s["padding-and-margin:"+n]&&(s["padding-and-margin:"+n]={}),s["padding-and-margin:"+n][m[t]||t]=r):g.includes(t)?(!s["font:"+n]&&(s["font:"+n]={}),s["font:"+n][m[t]||t]=r):s[(m[t]||t)+":"+n]=r}))}));var f=o.__assign(o.__assign({},c),((r={})[l]=s,r));i&&i({css:f})}catch(e){console.error(e)}}));return u.default.createElement("div",{className:"ThemeClassName-editor"},u.default.createElement("div",{className:"ThemeClassName-editor-title"},"自定义样式源码"),u.default.createElement("div",{className:"ThemeClassName-editor-close"},u.default.createElement(i.Button,{onClick:e.onHide,level:"link"},u.default.createElement(i.Icon,{icon:"close",className:"icon"}))),u.default.createElement("div",{className:"ThemeClassName-editor-content"},u.default.createElement(i.Editor,{value:s,language:"css",onChange:function(e){f(e),h(e)},options:{automaticLayout:!0,lineNumbers:"off",glyphMargin:!1,tabSize:2,wordWrap:"on",lineDecorationsWidth:0,lineNumbersMinChars:0,selectOnLineNumbers:!0,scrollBeyondLastLine:!1,folding:!0,minimap:{enabled:!1}}})))}function b(e){var t=a.useRef(null),r=e.value,n=a.useState(!1),d=n[0],c=n[1];return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{ref:t,className:"ThemeClassName"},u.default.createElement(i.Button,{onClick:function(){c(!0)},level:"link",className:":ThemeClassName-button"},u.default.createElement(i.Icon,{icon:"file",className:"icon"})),l.render({type:"input-tag",name:"class",placeholder:s.i18n("ec8f3e4a298160dface2fda5c0125df2"),delimiter:" ",value:r,onChange:function(t){e.onChange&&e.onChange(t)}})),u.default.createElement(i.Overlay,{container:document.body,placement:"left",target:t.current,show:d,rootClose:!1},u.default.createElement(i.PopOver,{overlay:!0,onHide:function(){return c(!1)}},u.default.createElement(h,o.__assign({},e,{onHide:function(){return c(!1)}})))))}!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}o.__extends(t,e),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){return u.default.createElement(b,o.__assign({},this.props))}}),t=o.__decorate([l.FormItem({type:"theme-classname",strictMode:!1})],t)}(u.default.Component)}));