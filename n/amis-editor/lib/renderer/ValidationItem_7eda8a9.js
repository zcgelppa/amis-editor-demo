amis.define("189d04f",(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("849c8c1"),i=e("cc4bbf0"),r=e("af1cc81"),o=e("167c905"),d=e("8ba532b"),s=e("2426036"),u=e("fb32b1a");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m=c(i),p=c(r),f=function(e){function t(t){var a=e.call(this,t)||this;Object.defineProperty(a,"validator",{enumerable:!0,configurable:!0,writable:!0,value:void 0});var n=a.props.data;return a.validator=a.props.validator,a.state={value:null==n?void 0:n.value,checked:null!=n.value,message:(null==n?void 0:n.message)||"",isBuiltIn:null==n?void 0:n.isBuiltIn},a}return l.__extends(t,e),Object.defineProperty(t.prototype,"handleEdit",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var a=this.props,n=a.onEdit,i=a.data;"submit"===(null==t?void 0:t.type)&&n&&n(l.__assign({name:i.name},e))}}),Object.defineProperty(t.prototype,"handleDelete",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props,t=e.onDelete,a=e.data;t&&t(a.name)}}),Object.defineProperty(t.prototype,"handleSwitch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.props,a=t.onSwitch,n=t.data,l=this.state,i=l.value;l.message,this.setState({checked:e}),e&&(n.value=!this.validator.schema||i,n.message=""),a&&a(e,n)}}),Object.defineProperty(t.prototype,"renderActions",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=[];return this.props.isDefault||e.push(m.default.createElement(o.Button,{className:"ae-ValidationControl-item-action",level:"link",size:"md",key:"delete",onClick:this.handleDelete},m.default.createElement("i",{className:"fa fa-trash"}))),0!==e.length?m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:"ae-ValidationControl-item-actions"},e)):null}}),Object.defineProperty(t.prototype,"renderInputControl",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.state,a=t.value,n=t.message,l=t.checked,i=s.getEnv(window.editorStore).i18nEnabled,r=[];return l?(this.validator.schema&&(r=r.concat(this.validator.schema)),this.validator.message&&r.push({name:"message",type:i?"input-text-i18n":"input-text",label:d.tipedLabel(u.i18n("d7a169e81b60ee08c82b5d9de473e362"),"系统默认提示：".concat(this.validator.message)),pipeIn:function(t,a){return e.props.data.message},placeholder:u.i18n("5ef6ce89f52b4331b080a0f3019414f3")}),0!==r.length?m.default.createElement("section",{className:p.default("ae-ValidationControl-item-input","ae-ExtendMore")},o.render({type:"form",className:"w-full",wrapWithPanel:!1,panelClassName:"border-none shadow-none mb-0",bodyClassName:"p-none",actionsClassName:"border-none mt-2.5",wrapperComponent:"div",mode:"horizontal",horizontal:{justify:!0,left:4,right:8},preventEnterSubmit:!0,submitOnChange:!0,body:r,data:{value:a,message:n}},{onSubmit:this.handleEdit})):null):null}}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props,t=e.classPrefix,a=e.data;e.isDefault;var n=this.state,l=n.checked,i=n.isBuiltIn;return m.default.createElement("div",{className:p.default("ae-ValidationControl-item",{"is-active":l}),key:a.name},m.default.createElement("section",{className:p.default("ae-ValidationControl-item-control",{"is-active":l&&"required"!==a.name})},m.default.createElement("label",{className:p.default("".concat(t,"Form-label"))},this.validator.label),m.default.createElement("div",null,this.renderActions(),m.default.createElement(o.Switch,{key:"switch",value:l,disabled:i,onChange:this.handleSwitch}))),this.renderInputControl())}}),l.__decorate([d.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Object,Object]),l.__metadata("design:returntype",void 0)],t.prototype,"handleEdit",null),l.__decorate([d.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[]),l.__metadata("design:returntype",void 0)],t.prototype,"handleDelete",null),l.__decorate([d.autobind,l.__metadata("design:type",Function),l.__metadata("design:paramtypes",[Boolean]),l.__metadata("design:returntype",void 0)],t.prototype,"handleSwitch",null),t}(m.default.Component);t.default=f}));