amis.define("10b6c16",(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("849c8c1"),o=e("cc4bbf0"),l=e("3c5b02d"),i=e("af1cc81"),u=e("167c905"),d=e("8ba532b"),s=e("520d1e1"),c=e("fb32b1a");function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m=p(o),f=p(i),b=function(e){function t(t){var a=e.call(this,t)||this;return Object.defineProperty(a,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"formNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a.state=a.initState(),a}return r.__extends(t,e),Object.defineProperty(t.prototype,"initState",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props,t=e.data,a=e.value,n=e.trueValue;e.falseValue;var r=e.name,o=e.bulk;e.hiddenOnDefault;var l=!1,i=!1;if(r)l=!!a===n;else if(o){var u=this.getFormItemNames();i=l=s.some(u,(function(e){return void 0!==t[e]}))}else l=a===n;return{checked:l,show:i}}}),Object.defineProperty(t.prototype,"getFormItemNames",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.form;return e&&Array.isArray(null==e?void 0:e.body)?e.body.map((function(e){return"string"==typeof e||null==e?void 0:e.name})).filter((function(e){return e})):[]}}),Object.defineProperty(t.prototype,"overlayRef",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.overlay=e?l.findDOMNode(e):null}}),Object.defineProperty(t.prototype,"openPopover",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setState({show:!0})}}),Object.defineProperty(t.prototype,"toogleExtend",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setState({show:!this.state.show})}}),Object.defineProperty(t.prototype,"closePopover",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setState({show:!1})}}),Object.defineProperty(t.prototype,"handleDelete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.props.onRemove;t&&t(e)}}),Object.defineProperty(t.prototype,"handleSwitchChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.props,a=t.onBulkChange,n=t.onChange,o=t.bulk,l=t.defaultData,i=t.name,u=t.trueValue,d=t.falseValue;if(this.setState({checked:e}),o)if(e){var c=l?r.__assign({},l):{};i&&(c[i]=u),a&&a(c)}else{var p=s.fromPairs(this.getFormItemNames().map((function(e){return[e,void 0]})));i&&(p[i]=d),a&&a(p)}else n(e?l||!0:void 0)}}),Object.defineProperty(t.prototype,"handleSubmit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.props,a=t.onChange,n=t.onBulkChange;t.bulk?n&&n(e):a&&a(e)}}),Object.defineProperty(t.prototype,"handleAction",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,a,n,r){var o=this.props.onClose;"close"===t.actionType&&(this.setState({show:!1}),o&&o(e))}}),Object.defineProperty(t.prototype,"renderActions",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props,t=e.render,a=e.removable,n=e.disabled,r=e.form,o=e.formType,l=e.hiddenOnDefault,i=e.bulk,d=this.state,s=d.checked,p=d.show;if(!r||!s||n)return null;var f=[];return"dialog"===o?f.push(t("switch-more-form",this.renderDialogMore(),{key:"edit",onSubmit:this.handleSubmit})):"pop"===o?f.push(m.default.createElement(u.Button,{key:"edit",level:"link",size:"sm",className:"action-btn",ref:this.overlayRef,onClick:this.openPopover},m.default.createElement(u.Icon,{icon:"pencil",className:"icon"}))):i&&l&&"extend"===o&&f.push(m.default.createElement("div",{key:"open","data-tooltip":p?void 0:c.i18n("311f6d1fa5f13b0e280d7b3c9d40c5be"),"data-position":"bottom"},m.default.createElement(u.Button,{level:"link",size:"sm",className:"action-btn open-btn"+(p?" opening":""),onClick:this.toogleExtend},m.default.createElement(u.Icon,{icon:"caret",className:"icon"})))),a&&f.push(m.default.createElement(u.Button,{key:"remove",level:"link",size:"sm",onClick:this.handleDelete},m.default.createElement(u.Icon,{icon:"delete-btn",className:"icon ae-SwitchMore-icon"}))),f}}),Object.defineProperty(t.prototype,"renderPopover",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props,t=e.render,a=e.popOverclassName,n=e.overlay,r=e.offset,o=e.target,l=e.container,i=e.placement,d=e.rootClose,s=e.style,p=e.title;return m.default.createElement(u.Overlay,{show:!0,rootClose:d,placement:i,target:o||this.overlay,container:l},m.default.createElement(u.PopOver,{className:f.default("ae-SwitchMore-popover",a),placement:i,overlay:n,offset:r,style:s},m.default.createElement("header",null,m.default.createElement("p",{className:"ae-SwitchMore-title"},p||c.i18n("38aa9dc2a0f14555322061d2ff997349")),m.default.createElement("a",{onClick:this.closePopover,className:"ae-SwitchMore-close"},m.default.createElement(u.Icon,{icon:"close",className:"icon"}))),t("switch-more-form",this.renderForm(),{onSubmit:this.handleSubmit})))}}),Object.defineProperty(t.prototype,"renderExtend",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props,t=e.render;e.form,e.bulk;var a=e.hiddenOnDefault,n=this.state.show;return a&&!n?null:m.default.createElement("div",null,m.default.createElement("div",{className:f.default("ae-SwitchMore-content","inFormItem")},t("switch-more-form",this.renderForm(),{onSubmit:this.handleSubmit})))}}),Object.defineProperty(t.prototype,"renderDialogMore",{enumerable:!1,configurable:!0,writable:!0,value:function(){return{type:"input-sub-form",btnLabel:"",className:"inline-block m-0 h-6 bg-white ",itemClassName:"bg-white hover:bg-white m-0 p-0",icon:"fa fa-cog",form:r.__assign({title:this.props.label},this.renderForm())}}}),Object.defineProperty(t.prototype,"renderForm",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this.props,a=t.form,n=t.name,o=t.formType,l=t.data,i=t.bulk,u=t.defaultData,d=t.autoFocus;return r.__assign({type:"form",wrapWithPanel:!1,panelClassName:"border-none shadow-none mb-0",actionsClassName:"border-none mt-2.5",wrapperComponent:"div",mode:"horizontal",horizontal:{justify:!0,left:4},autoFocus:d,formLazyChange:!0,preventEnterSubmit:!0,submitOnChange:["pop","extend"].includes(o),data:l&&n&&!i?null!==(e=l[n])&&void 0!==e?e:u:null!=u?u:{}},a)}}),Object.defineProperty(t.prototype,"renderMoreSection",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.formType,t=this.state,a=t.show;return t.checked?"pop"===e?a?this.renderPopover():null:"extend"===e?this.renderExtend():null:null}}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this.props,a=t.render,n=t.disabled,r=t.className,o=t.body,l=t.env,i=t.hidden,d=t.formType,s=t.onText,c=t.offText;if(i)return null;var p=this.state;p.show;var b=p.checked,h=this.renderActions();return null===(e=null==l?void 0:l.theme)||void 0===e||e.classPrefix,m.default.createElement("div",{className:f.default("ae-SwitchMore","ae-SwitchMore-"+d,r)},m.default.createElement("div",{className:f.default("ae-SwitchMore-switch")},o?a("body",o):null,h&&h.length?m.default.createElement("div",{className:"ae-SwitchMore-actions"},h,b?m.default.createElement("hr",null):null):null,m.default.createElement(u.Switch,{value:b,onChange:this.handleSwitchChange,disabled:n,onText:s,offText:c})),this.renderMoreSection())}}),Object.defineProperty(t,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{container:document.body,autoFocus:!0,overlay:!0,rootClose:!1,trueValue:!0,falseValue:!1,formType:"pop",bulk:!0}}),r.__decorate([d.autobind,r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[Object]),r.__metadata("design:returntype",void 0)],t.prototype,"overlayRef",null),r.__decorate([d.autobind,r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[]),r.__metadata("design:returntype",void 0)],t.prototype,"openPopover",null),r.__decorate([d.autobind,r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[]),r.__metadata("design:returntype",void 0)],t.prototype,"toogleExtend",null),r.__decorate([d.autobind,r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[]),r.__metadata("design:returntype",void 0)],t.prototype,"closePopover",null),r.__decorate([d.autobind,r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[Object]),r.__metadata("design:returntype",void 0)],t.prototype,"handleDelete",null),r.__decorate([d.autobind,r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[Boolean]),r.__metadata("design:returntype",void 0)],t.prototype,"handleSwitchChange",null),r.__decorate([d.autobind,r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[Object]),r.__metadata("design:returntype",void 0)],t.prototype,"handleSubmit",null),r.__decorate([d.autobind,r.__metadata("design:type",Function),r.__metadata("design:paramtypes",[Object,Object,Object,Boolean,Object]),r.__metadata("design:returntype",void 0)],t.prototype,"handleAction",null),t}(m.default.Component);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r.__extends(t,e),t=r.__decorate([u.FormItem({type:"ae-switch-more"})],t)}(b),t.default=b}));