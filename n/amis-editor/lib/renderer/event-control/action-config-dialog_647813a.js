amis.define("d647ab2",(function(e,a,n,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("849c8c1"),o=e("8ba532b"),l=e("cc4bbf0"),s=e("009a72f"),c=e("b145027"),r=e("8beedab"),d=e("fb32b1a");function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(a,e),Object.defineProperty(a.prototype,"getTreeSearchList",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){if(!a)return e;var n=[],t=function(e,a,n){a.forEach((function(a){a.children?t(e,a.children,n):a.actionLabel.includes(n)&&e.push(i.__assign({},a))}))};return t(n,e,a),n}}),Object.defineProperty(a.prototype,"getInputTreeSchema",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a,n){var t={type:"input-tree",name:"actionType",visibleOn:e?"__keywords":"!__keywords",disabled:!1,onlyLeaf:!0,showIcon:!1,className:"action-tree",mode:"normal",labelField:"actionLabel",valueField:"actionType",inputClassName:"no-border action-tree-control",placeholder:d.i18n("db1cac8e2f6206e8f179b1ff47a676df"),onChange:function(e,t,o,l){var s,d={},p="";Object.keys(l.data).forEach((function(e){c.BASE_ACTION_PROPS.includes(e)||(d[e]=void 0)})),"openDialog"!==e||["dialog","drawer"].includes(p)||(p="dialog"),"closeDialog"!==e||["closeDialog","closeDrawer"].includes(p)||(p="closeDialog"),"visibility"!==e||["show","hidden","visibility"].includes(p)||(p="show"),"usability"!==e||["enabled","disabled","usability"].includes(p)||(p="enabled");var u=r.findActionNode(a,e);l.setValues(i.__assign(i.__assign({},d),{__keywords:l.data.__keywords,__resultActionTree:l.data.__resultActionTree,componentId:l.data.componentId?"":void 0,args:{},groupType:p,__actionDesc:null==u?void 0:u.description,__actionSchema:null==u?void 0:u.schema,__subActions:null==u?void 0:u.actions,__cmptTreeSource:(null==u?void 0:u.supportComponents)&&null!==(s=null==n?void 0:n(u))&&void 0!==s?s:[]}))}};return e?i.__assign(i.__assign({},t),{source:"${__resultActionTree}",highlightTxt:"${__keywords}"}):i.__assign(i.__assign({},t),{options:a})}}),Object.defineProperty(a.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,a=this,n=this.props,t=n.data,i=n.show,l=n.type,c=n.actionTree,r=n.pluginActions,p=n.getComponents,u=n.commonActions,b=n.onClose;return(0,n.render)("inner",{type:"dialog",title:d.i18n("e9908cdf79e965f6907ce9f291cdfcf8"),headerClassName:"font-bold",className:"action-config-dialog",bodyClassName:"action-config-dialog-body",closeOnEsc:!0,closeOnOutside:!1,show:i,showCloseButton:!0,size:"md",body:[{type:"form",title:"",mode:"normal",wrapperComponent:"div",submitText:d.i18n("be5fbbe34ce9979bfb6576d9eddc5612"),autoFocus:!0,data:{__keywords:"",__resultActionTree:[]},preventEnterSubmit:!0,onSubmit:null===(e=this.props.onSubmit)||void 0===e?void 0:e.bind(this,l),body:[{type:"grid",className:"h-full",columns:[{body:[{type:"tpl",tpl:d.i18n("d1d9049139d870edd490215530d90458"),className:"action-panel-title",inline:!1},{type:"input-text",name:"__keywords",className:"action-tree-search",inputClassName:"action-tree-search-input",placeholder:d.i18n("9eac7e07ca0a3181766e5ecc70d20727"),clearable:!0,onChange:function(e,n,t,i){if(e){var o=a.getTreeSearchList(c,e);i.setValueByName("__resultActionTree",o)}else i.setValueByName("__resultActionTree",c)}},this.getInputTreeSchema(!1,c,p),this.getInputTreeSchema(!0,c,p)],md:3,columnClassName:"left-panel"},{body:[{type:"tpl",tpl:d.i18n("0174bdde9517fa331bf7d716a553e023"),className:"action-panel-title",visibleOn:"data.actionType",inline:!1},{type:"tpl",className:"action-desc",tpl:"${__actionDesc}",visibleOn:"data.actionType"},{type:"tpl",tpl:d.i18n("0aeca07a02601a8e701a46d1a8b5ce43"),className:"action-panel-title",visibleOn:"data.actionType",inline:!1},{type:"container",className:"right-panel-container",body:[{asFormItem:!0,component:s.default,pluginActions:r,commonActions:u},{type:"tpl",tpl:d.i18n("e370757f933a8ecd87bf0255c3ce45d0"),inline:!1,className:"action-panel-title",visibleOn:"data.actionType"},{name:"stopPropagation",label:o.tipedLabel(d.i18n("8c2bb89f516205027b9ed6609fb17726"),d.i18n("46a3c6ab94da0b16a707bdd3b74c9e09")),type:"ae-expressionFormulaControl",evalMode:!0,variables:"${variables}",mode:"horizontal",size:"lg",visibleOn:"data.actionType"},{name:"expression",label:d.i18n("da1ed600ce65be863766444e60c2da05"),type:"ae-expressionFormulaControl",evalMode:!0,variables:"${variables}",mode:"horizontal",size:"lg",placeholder:d.i18n("13b2de1073f76444c49d2c6a21e46e26"),visibleOn:"data.actionType"}]}],columnClassName:"right-panel"}]}],style:{borderStyle:"solid"},className:"action-config-panel"}],onClose:b},{data:t})}}),a}(p(l).default.Component);a.default=u}));