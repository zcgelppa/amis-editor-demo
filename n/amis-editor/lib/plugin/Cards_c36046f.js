amis.define("71137bf",(function(e,a,r,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("849c8c1"),t=e("167c905"),l=e("cc4bbf0"),c=e("8ba532b"),b=e("fb32b1a");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=d(l),s=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(a,"rendererName",{enumerable:!0,configurable:!0,writable:!0,value:"cards"}),Object.defineProperty(a,"$schema",{enumerable:!0,configurable:!0,writable:!0,value:"/schemas/CardsSchema.json"}),Object.defineProperty(a,"name",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("093c340f7e1fbde1928ca56b5c7f9cc4")}),Object.defineProperty(a,"isBaseComponent",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"description",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("85c17b016309a3f867a1803049b3bcd8")}),Object.defineProperty(a,"docLink",{enumerable:!0,configurable:!0,writable:!0,value:"/amis/zh-CN/components/cards"}),Object.defineProperty(a,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[b.i18n("027446c2f9070b0f5b16a18208bf5fc7")]}),Object.defineProperty(a,"icon",{enumerable:!0,configurable:!0,writable:!0,value:"fa fa-window-maximize"}),Object.defineProperty(a,"pluginIcon",{enumerable:!0,configurable:!0,writable:!0,value:"cards-plugin"}),Object.defineProperty(a,"scaffold",{enumerable:!0,configurable:!0,writable:!0,value:{type:"cards",data:{items:[{a:1,b:2},{a:3,b:4}]},columnsCount:2,card:{type:"card",className:"m-b-none",header:{title:b.i18n("32c65d8d7431e76029678ec7bb73a5ab"),subTitle:b.i18n("72cf373be86a38b29f6d2f15900b0da1")},body:[{name:"a",label:"A"},{name:"b",label:"B"}],actions:[{label:b.i18n("f26225bde6a250894a04db4c53ea03d0"),type:"button"}]}}}),Object.defineProperty(a,"previewSchema",{enumerable:!0,configurable:!0,writable:!0,value:n.__assign(n.__assign({},a.scaffold),{className:"text-left "})}),Object.defineProperty(a,"panelTitle",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("6223c41373004e3111e768225450b4e8")}),Object.defineProperty(a,"panelBodyCreator",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var r,i,n="crud"===e.schema.type,l=null===(i=null===(r=null==e?void 0:e.schema)||void 0===r?void 0:r.style)||void 0===i?void 0:i.position,d="fixed"===l||"absolute"===l;return[c.getSchemaTpl("tabs",[{title:b.i18n("22b777e6fcb613b8ba83ced9594cd07e"),body:[c.getSchemaTpl("layout:originPosition",{visibleOn:d||void 0,value:"left-top"}),{children:o.default.createElement("div",{className:"m-b"},o.default.createElement(t.Button,{level:"success",size:"sm",block:!0,onClick:a.editDetail.bind(a,e.id)},"配置单项信息"))},{type:"divider"},c.getSchemaTpl("title"),{name:"href",type:"input-text",label:b.i18n("a3f38735bf211edb2066ac4e51b55cb2")},n?null:{name:"source",type:"input-text",label:b.i18n("c11322c9cc43ce3c004cf03f5ac0acd0"),pipeIn:c.defaultValue("${items}"),description:b.i18n("7ea26d0cb93e59339daf6a1ac68624f3"),test:!n},c.getSchemaTpl("cardsPlaceholder")]},{title:b.i18n("afcde2611bdd13c1e65b4fb6a2f13425"),body:[c.getSchemaTpl("switch",{name:"showHeader",label:b.i18n("e18d033cc4baab3ebb329f6b29eb3cef"),pipeIn:c.defaultValue(!0)}),c.getSchemaTpl("switch",{name:"showFooter",label:b.i18n("412593f58b9d062a43cbe2ce38f4dc65"),pipeIn:c.defaultValue(!0)}),c.getSchemaTpl("className",{label:b.i18n("4434b33a8731a73613ba5fa1eb984efb")}),c.getSchemaTpl("className",{name:"headerClassName",label:b.i18n("e494f1aa112068688ca863db7f39a0b5")}),c.getSchemaTpl("className",{name:"footerClassName",label:b.i18n("d267231d2d8b60e267acc7d7d9955ae2")}),c.getSchemaTpl("className",{name:"itemsClassName",label:b.i18n("af1af0a7fad9e8bdcd21694d0e036e12")}),c.getSchemaTpl("className",{pipeIn:c.defaultValue("Grid-col--sm6 Grid-col--md4 Grid-col--lg3"),name:"itemClassName",label:b.i18n("b2d2593bfb7a627817c0bd1ef6a254a8")}),{name:"columnsCount",type:"input-range",visibleOn:"!this.leftFixed",min:0,max:12,step:1,label:b.i18n("58e78d512d9ff40c73a263ab616cc652"),description:b.i18n("3cf0da9fe51f92842e0a6d375fa5c605")},c.getSchemaTpl("switch",{name:"masonryLayout",label:b.i18n("953e91f3df59837ac2965cc04dec4b0d")})]},{title:b.i18n("33bf801796fd255b5f6147e33146669b"),body:[c.getSchemaTpl("ref"),c.getSchemaTpl("visible")]}])]}}),a}return n.__extends(a,e),Object.defineProperty(a.prototype,"editDetail",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a=this.manager,r=a.store,i=r.getNodeById(e),t=r.getValueOf(e);i&&t&&this.manager.openSubEditor({title:b.i18n("39a6853b109ae98f1aabca90283d7edc"),value:n.__assign({type:"card"},t.card),slot:{type:"container",body:"$$"},typeMutable:!1,onChange:function(e){e=n.__assign(n.__assign({},t),{card:e}),a.panelChangeValue(e,c.diff(t,e))},data:{item:"mocked data",index:0}})}}),Object.defineProperty(a.prototype,"buildEditorToolbar",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){var r=e.id,i=e.info,n=e.schema;("cards"===i.renderer.name||"crud"===i.renderer.name&&"cards"===n.mode)&&a.push({icon:"fa fa-expand",order:100,tooltip:b.i18n("39a6853b109ae98f1aabca90283d7edc"),onClick:this.editDetail.bind(this,r)})}}),Object.defineProperty(a.prototype,"buildEditorContextMenu",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){var r=e.id,i=e.schema;e.region;var n=e.info;e.selections.length||(null==n?void 0:n.plugin)!==this||("cards"===n.renderer.name||"crud"===n.renderer.name&&"cards"===i.mode)&&a.push("|",{label:b.i18n("39a6853b109ae98f1aabca90283d7edc"),onSelect:this.editDetail.bind(this,r)})}}),Object.defineProperty(a.prototype,"filterProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a=n.__assign(n.__assign({},e.defaultData),e.data),r=Array.isArray(e.value)?e.value:"string"==typeof e.source?t.resolveVariable(e.source,a):t.resolveVariable("items",a);if(!Array.isArray(r)||!r.length){var i={id:666,title:b.i18n("6cb01692eea2fa7066d20fe2b6ccaea3"),description:b.i18n("6cb01692eea2fa7066d20fe2b6ccaea3"),a:b.i18n("6cb01692eea2fa7066d20fe2b6ccaea3"),b:b.i18n("6cb01692eea2fa7066d20fe2b6ccaea3")};e.value=c.repeatArray(i,1).map((function(e,a){return n.__assign(n.__assign({},e),{id:a+1})}))}var l=e.$schema,d=n.__rest(e,["$schema"]);return n.__assign(n.__assign({},c.JSONPipeOut(d)),{$schema:l})}}),Object.defineProperty(a.prototype,"getRendererInfo",{enumerable:!1,configurable:!0,writable:!0,value:function(a){var r,i=this,t=a.renderer,l=a.schema;return l.$$id||"crud"!==(null===(r=l.$$editor)||void 0===r?void 0:r.renderer.name)||"cards"!==t.name?e.prototype.getRendererInfo.call(this,a):n.__assign(n.__assign({},{id:l.$$editor.id}),{name:i.name,regions:i.regions,patchContainers:i.patchContainers,vRendererConfig:i.vRendererConfig,wrapperProps:i.wrapperProps,wrapperResolve:i.wrapperResolve,filterProps:i.filterProps,$schema:i.$schema,renderRenderer:i.renderRenderer})}}),a}(c.BasePlugin);c.registerEditorPlugin(s),a.CardsPlugin=s}));