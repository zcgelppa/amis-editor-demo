amis.define("0b0f323",(function(e,a,n,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e("849c8c1"),i=e("d32df82"),c=e("cc4bbf0"),b=e("8ba532b"),d=e("fb32b1a");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=o(c),r=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(a,"panelTitle",{enumerable:!0,configurable:!0,writable:!0,value:d.i18n("fa966345577ba81af19408f203db968f")}),Object.defineProperty(a,"panelBodyCreator",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var n=/(?:\/|^)dialog\/.+$/.test(e.path);return/(?:\/|^)dropdown-button\/.+$/.test(e.path),[{type:"container",className:"p-3",body:[{label:d.i18n("88d1257b0cf667319085f3e0033b9607"),type:"select",name:"actionType",pipeIn:b.defaultValue(""),options:[{label:d.i18n("18c63459a2c069022c7790430f761214"),value:""},{label:d.i18n("ab3aec075a09d055b2a28c8b61925ee0"),value:"dialog"},{label:d.i18n("f10f0be4aa9684eef9d78234072fe08b"),value:"drawer"},{label:d.i18n("4f02d2efe05a20232ab9da63c090595c"),value:"ajax"},{label:d.i18n("5dfd5a78e2ba1bc8afb482a8745454ea"),value:"download"},{label:d.i18n("4e58f9c94d345e14e2d69cc8496b7b5a"),value:"link"},{label:d.i18n("982db3084a2c470d1a9b34efa024511c"),value:"url"},{label:d.i18n("f20d9579ebdc9dfc30a212ae6cae931f"),value:"reload"},{label:d.i18n("6a086902a84969a835423002718e86b4"),value:"copy"},{label:d.i18n("939d5345ad4345dbaabe14798f6ac0f1"),value:"submit"},{label:d.i18n("4b9c3271dc2f299dc3aeffb369187513"),value:"reset"},{label:d.i18n("a56c9f13b1566009fdc7640bc551709e"),value:"reset-and-submit"},{label:d.i18n("30313d6fa06603604db18086bbcad9d3"),value:"clear-and-submit"},{label:d.i18n("e83a256e4f5bb4ff8b3d804b5473217a"),value:"confirm"},{label:d.i18n("625fb26b4b3340f7872b411f401e754c"),value:"cancel"},{label:d.i18n("0fc26855080a4219bbfad638029a795c"),value:"next"},{label:d.i18n("8ba8a1bead7ca55554cff1c85246ae09"),value:"prev"}]},{type:"input-text",name:"content",visibleOn:'data.actionType == "copy"',label:d.i18n("deb65aca8dba2ff9d0cfaed0a3441068")},{type:"select",name:"copyFormat",options:[{label:d.i18n("ffb01e5bcf4c00447f5150d3cba81371"),value:"text/plain"},{label:d.i18n("e2591e971f4c28db7c80a5f546084a1d"),value:"text/html"}],visibleOn:'data.actionType == "copy"',label:d.i18n("c28f4d63beabc4833b17aaa10ca550db")},{type:"input-text",name:"target",visibleOn:'data.actionType == "reload"',label:d.i18n("21fa07f18f80bee50695686831ae1286"),required:!0},{name:"dialog",pipeIn:b.defaultValue({title:d.i18n("8a089992349df754f182a5d02de8e8e0"),body:d.i18n("b680997c50ca749acd4e6075cdca244e"),showCloseButton:!0,showErrorMsg:!0,showLoading:!0}),asFormItem:!0,children:function(e){var n=e.value,t=e.onChange;return"dialog"===e.data.actionType?f.default.createElement(i.Button,{size:"sm",level:"danger",className:"m-b",onClick:function(){return a.manager.openSubEditor({title:d.i18n("c3c8422fcecd8c1cc922cba15ab5cbc0"),value:l.__assign({type:"dialog"},n),onChange:function(e){return t(e)}})},block:!0},"配置弹框内容"):null}},{visibleOn:'data.actionType == "drawer"',name:"drawer",pipeIn:b.defaultValue({title:d.i18n("8a089992349df754f182a5d02de8e8e0"),body:d.i18n("b680997c50ca749acd4e6075cdca244e")}),asFormItem:!0,children:function(e){var n=e.value,t=e.onChange;return"drawer"==e.data.actionType?f.default.createElement(i.Button,{size:"sm",level:"danger",className:"m-b",onClick:function(){return a.manager.openSubEditor({title:d.i18n("262c7c7b9874ae5607fb51da468d0e8c"),value:l.__assign({type:"drawer"},n),onChange:function(e){return t(e)}})},block:!0},"配置抽出式弹框内容"):null}},b.getSchemaTpl("api",{label:d.i18n("5eb694a4252528628929ced97ca95823"),visibleOn:'data.actionType == "ajax" || data.actionType == "download"'}),{name:"feedback",pipeIn:b.defaultValue({title:d.i18n("8a089992349df754f182a5d02de8e8e0"),body:d.i18n("84d38979bed546b93c4b3a399844419e")}),asFormItem:!0,children:function(e){var n=e.onChange,t=e.value;return"ajax"==e.data.actionType?f.default.createElement("div",{className:"m-b"},f.default.createElement(i.Button,{size:"sm",level:t?"danger":"info",onClick:function(){return a.manager.openSubEditor({title:d.i18n("0cc0fff6eb667b140d3fd06e34a8c69f"),value:l.__assign({type:"dialog"},t),onChange:function(e){return n(e)}})}},"配置反馈弹框内容"),t?f.default.createElement(i.Button,{size:"sm",level:"link",className:"m-l",onClick:function(){return n("")}},"清空设置"):null):null}},{name:"feedback.visibleOn",label:d.i18n("7984d95c01b725a2709fb8f5ee330fb4"),type:"input-text",visibleOn:"this.feedback",autoComplete:!1,description:d.i18n("dfa07586a471e24b23fe68e11f5dc41a")},{name:"feedback.skipRestOnCancel",label:d.i18n("47186f00df86d3edad3b5595ba8c2a0a"),type:"switch",mode:"inline",className:"block",visibleOn:"this.feedback"},{name:"feedback.skipRestOnConfirm",label:d.i18n("4f21e04fe35d39c79e7779cdf2f4e232"),type:"switch",mode:"inline",className:"block",visibleOn:"this.feedback"},{type:"input-text",label:d.i18n("6ab20dc4b64021b85886ad9c12b6e0cc"),name:"link",visibleOn:'data.actionType == "link"'},{type:"input-text",label:d.i18n("6ab20dc4b64021b85886ad9c12b6e0cc"),name:"url",visibleOn:'data.actionType == "url"',placeholder:"http://"},{type:"switch",name:"blank",visibleOn:'data.actionType == "url"',mode:"inline",className:"w-full",label:d.i18n("0bbc3ec26c36a87c9df3183def6ca9e0"),value:!0},n?{visibleOn:'data.actionType == "submit" || data.type == "submit"',name:"close",type:"switch",mode:"inline",className:"w-full",pipeIn:b.defaultValue(!0),label:d.i18n("d0c3025a64b26e5fbf22005f400c06d7")}:null,{name:"confirmText",type:"textarea",label:d.i18n("0c15a924dc3bedefb79c958972bef2b9"),description:d.i18n("06b13b11740f7663af325bf5426930ba")},{type:"input-text",name:"reload",label:d.i18n("fa9a0a79f29fef72e3060ea1af93c305"),visibleOn:'data.actionType != "link" && data.actionType != "url"',description:d.i18n("437d629f00e62cf99b3ad288f84ade46")},{type:"input-text",name:"target",visibleOn:'data.actionType != "reload"',label:d.i18n("b01f08bf5b9f8e3ef9d49e31d89bf770"),description:d.i18n("f667748a8e9717498da714d4e5087af2")},{type:"js-editor",allowFullscreen:!0,name:"onClick",label:d.i18n("80ddab8a52f74d707765501b0caae21f"),description:d.i18n("babbd439bc04241ed3536f892668c250")},{type:"input-text",name:"hotKey",label:d.i18n("867ade50f0bbb10bac65a5c3bc7895e9")}]}]}}),a}return l.__extends(a,e),Object.defineProperty(a.prototype,"buildEditorPanel",{enumerable:!1,configurable:!0,writable:!0,value:function(a,n){a.selections.length||(~["action","button","submit","reset","sparkline"].indexOf(a.info.renderer.name)?(this.panelBodyCreator(a),a.info.renderer.name):e.prototype.buildEditorPanel.call(this,a,n))}}),Object.defineProperty(a.prototype,"buildEditorToolbar",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){var n=this,t=e.id,l=e.schema,i=e.info;~["action","button","submit","reset"].indexOf(i.renderer.name)&&"dialog"===l.actionType&&a.push({iconSvg:"dialog",tooltip:d.i18n("c3c8422fcecd8c1cc922cba15ab5cbc0"),placement:"bottom",onClick:function(){return n.editDetail(t)}})}}),Object.defineProperty(a.prototype,"editDetail",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a=this.manager,n=a.store,t=n.getNodeById(e),i=n.getValueOf(e);t&&i&&this.manager.openSubEditor({title:d.i18n("c3c8422fcecd8c1cc922cba15ab5cbc0"),value:l.__assign({type:"dialog"},i.dialog),onChange:function(e){e=l.__assign(l.__assign({},i),{dialog:e}),a.panelChangeValue(e,b.diff(i,e))}})}}),a}(b.BasePlugin);b.registerEditorPlugin(r),a.ActionPlugin=r}));