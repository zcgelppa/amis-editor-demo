amis.define("abaef1e",(function(e,a,t,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("849c8c1"),n=e("167c905"),l=e("cc4bbf0"),o=e("8ba532b"),c=e("fb32b1a");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var b=d(l),s=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(a,"rendererName",{enumerable:!0,configurable:!0,writable:!0,value:"list"}),Object.defineProperty(a,"$schema",{enumerable:!0,configurable:!0,writable:!0,value:"/schemas/ListSchema.json"}),Object.defineProperty(a,"name",{enumerable:!0,configurable:!0,writable:!0,value:c.i18n("3712972d84adf48acbd6ad24b4d75ad0")}),Object.defineProperty(a,"isBaseComponent",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"description",{enumerable:!0,configurable:!0,writable:!0,value:c.i18n("9f556fb46ecef854282d17e631578b1c")}),Object.defineProperty(a,"docLink",{enumerable:!0,configurable:!0,writable:!0,value:"/amis/zh-CN/components/list"}),Object.defineProperty(a,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[c.i18n("027446c2f9070b0f5b16a18208bf5fc7")]}),Object.defineProperty(a,"icon",{enumerable:!0,configurable:!0,writable:!0,value:"fa fa-list"}),Object.defineProperty(a,"pluginIcon",{enumerable:!0,configurable:!0,writable:!0,value:"list-plugin"}),Object.defineProperty(a,"scaffold",{enumerable:!0,configurable:!0,writable:!0,value:{type:"list",listItem:{body:[{type:"tpl",tpl:c.i18n("3bb4d608c6bee2b7b6d788417cde04e3")}],actions:[{icon:"fa fa-eye",type:"button"}]}}}),Object.defineProperty(a,"previewSchema",{enumerable:!0,configurable:!0,writable:!0,value:i.__assign(i.__assign({},a.scaffold),{items:[{a:1,b:2},{a:3,b:4},{a:5,b:6}]})}),Object.defineProperty(a,"panelTitle",{enumerable:!0,configurable:!0,writable:!0,value:c.i18n("3712972d84adf48acbd6ad24b4d75ad0")}),Object.defineProperty(a,"panelJustify",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"panelBodyCreator",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t="crud"===e.schema.type;return o.getSchemaTpl("tabs",[{title:c.i18n("24d67862f87f439db7ca957aecb77cce"),body:o.getSchemaTpl("collapseGroup",[{title:c.i18n("4092ed98e9035652d4c9ca9441701ed7"),body:[{children:b.default.createElement(n.Button,{level:"primary",size:"sm",block:!0,onClick:a.editDetail.bind(a,e.id)},"配置成员详情")},{type:"divider"},{name:"title",type:"input-text",label:c.i18n("32c65d8d7431e76029678ec7bb73a5ab")},t?null:{name:"source",type:"input-text",label:c.i18n("c11322c9cc43ce3c004cf03f5ac0acd0"),pipeIn:o.defaultValue("${items}"),description:c.i18n("7ea26d0cb93e59339daf6a1ac68624f3")},{name:"placeholder",pipeIn:o.defaultValue(c.i18n("1ac0e1626be43287983fe3e5559320eb")),type:"input-text",label:c.i18n("35ba83e053cef95e55dfffde279822b5")},{type:"ae-switch-more",mode:"normal",formType:"extend",label:"头部",name:"showHeader",form:{body:[{children:b.default.createElement(n.Button,{level:"primary",size:"sm",block:!0,onClick:a.editHeaderDetail.bind(a,e.id)},"配置头部")}]}},{type:"ae-switch-more",mode:"normal",formType:"extend",label:c.i18n("12c4c5e8abda77e1fdc93653d6414187"),name:"showFooter",form:{body:[{children:b.default.createElement(n.Button,{level:"primary",size:"sm",block:!0,onClick:a.editFooterDetail.bind(a,e.id)},"配置底部")}]}}]},o.getSchemaTpl("status")])},{title:c.i18n("afcde2611bdd13c1e65b4fb6a2f13425"),body:o.getSchemaTpl("collapseGroup",[{title:c.i18n("261bba7ad82914e477f4b37f6a83874e"),body:[o.getSchemaTpl("className",{label:c.i18n("5e5d3f13111593b2710673006d4c8297")}),o.getSchemaTpl("className",{name:"listClassName",label:"List"}),o.getSchemaTpl("className",{name:"headerClassName",label:"头部"}),o.getSchemaTpl("className",{name:"footerClassName",label:c.i18n("12c4c5e8abda77e1fdc93653d6414187")})]}])}])}}),a}return i.__extends(a,e),Object.defineProperty(a.prototype,"filterProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isSlot)return e.value=[e.data],e;var a=i.__assign(i.__assign({},e.defaultData),e.data),t=Array.isArray(e.value)?e.value:"string"==typeof e.source?n.resolveVariable(e.source,a):n.resolveVariable("items",a);if(!Array.isArray(t)||!t.length){var r=this.buildMockData();e.value=o.repeatArray(r,1).map((function(e,a){return i.__assign(i.__assign({},e),{id:a+1})}))}var l=e.$schema,c=i.__rest(e,["$schema"]);return i.__assign(i.__assign({},o.JSONPipeOut(c)),{$schema:l})}}),Object.defineProperty(a.prototype,"buildMockData",{enumerable:!1,configurable:!0,writable:!0,value:function(){return{id:666,title:c.i18n("6cb01692eea2fa7066d20fe2b6ccaea3"),description:c.i18n("6cb01692eea2fa7066d20fe2b6ccaea3"),a:c.i18n("6cb01692eea2fa7066d20fe2b6ccaea3"),b:c.i18n("6cb01692eea2fa7066d20fe2b6ccaea3")}}}),Object.defineProperty(a.prototype,"editHeaderDetail",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a,t=this.manager,r=t.store,n=r.getNodeById(e),l=r.getValueOf(e);n&&l&&this.manager.openSubEditor({title:"配置头部",value:null!==(a=l.header)&&void 0!==a?a:{type:"tpl",tpl:"头部",wrapperComponent:""},slot:{type:"container",body:"$$"},onChange:function(e){e=i.__assign(i.__assign({},l),{header:e}),t.panelChangeValue(e,o.diff(l,e))}})}}),Object.defineProperty(a.prototype,"editFooterDetail",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a,t=this.manager,r=t.store,n=r.getNodeById(e),l=r.getValueOf(e),d={type:"tpl",tpl:c.i18n("12c4c5e8abda77e1fdc93653d6414187"),wrapperComponent:""};n&&l&&this.manager.openSubEditor({title:"配置底部",value:null!==(a=l.footer)&&void 0!==a?a:d,slot:{type:"container",body:"$$"},onChange:function(e){e=i.__assign(i.__assign({},l),{footer:e}),t.panelChangeValue(e,o.diff(l,e))}})}}),Object.defineProperty(a.prototype,"editDetail",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a=this.manager,t=a.store,r=t.getNodeById(e),n=t.getValueOf(e);r&&n&&this.manager.openSubEditor({title:c.i18n("84c04f1e9ce6a6a228228dd3fb96b99e"),value:i.__assign({},n.listItem),slot:{type:"list",listItem:"$$"},onChange:function(e){e=i.__assign(i.__assign({},n),{listItem:e}),a.panelChangeValue(e,o.diff(n,e))},data:{items:[this.buildMockData()]}})}}),Object.defineProperty(a.prototype,"buildEditorToolbar",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){var t=e.id,r=e.info,i=e.schema;("list"===r.renderer.name||"crud"===r.renderer.name&&"list"===i.mode)&&a.push({icon:"fa fa-expand",order:100,tooltip:c.i18n("39a6853b109ae98f1aabca90283d7edc"),onClick:this.editDetail.bind(this,t)})}}),Object.defineProperty(a.prototype,"buildEditorContextMenu",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){var t=e.id,r=e.schema;e.region;var i=e.info;e.selections.length||(null==i?void 0:i.plugin)!==this||("list"===i.renderer.name||"crud"===i.renderer.name&&"list"===r.mode)&&a.push("|",{label:c.i18n("84c04f1e9ce6a6a228228dd3fb96b99e"),onSelect:this.editDetail.bind(this,t)})}}),Object.defineProperty(a.prototype,"getRendererInfo",{enumerable:!1,configurable:!0,writable:!0,value:function(a){var t,r=this,n=a.renderer,l=a.schema;return l.$$id||"crud"!==(null===(t=l.$$editor)||void 0===t?void 0:t.renderer.name)||"list"!==n.name?e.prototype.getRendererInfo.call(this,a):i.__assign(i.__assign({},{id:l.$$editor.id}),{name:r.name,regions:r.regions,patchContainers:r.patchContainers,vRendererConfig:r.vRendererConfig,wrapperProps:r.wrapperProps,wrapperResolve:r.wrapperResolve,filterProps:r.filterProps,$schema:r.$schema,renderRenderer:r.renderRenderer})}}),a}(o.BasePlugin);o.registerEditorPlugin(s),a.ListPlugin=s}));