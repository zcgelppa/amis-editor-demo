amis.define("5547374",(function(e,a,t,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e("849c8c1"),c=e("167c905"),i=e("cc4bbf0"),d=e("c2555e3"),b=e("8ba532b"),o=e("520d1e1"),r=e("668181b"),f=e("fb32b1a");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=u(i),m=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(a,"panelTitle",{enumerable:!0,configurable:!0,writable:!0,value:f.i18n("dc7558211f2990370954c2e7ca498ee9")}),Object.defineProperty(a,"panelIcon",{enumerable:!0,configurable:!0,writable:!0,value:"fa fa-columns"}),a}return l.__extends(a,e),Object.defineProperty(a.prototype,"afterBuildPanelBody",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a,t,n,i=this,u=e.context,m=u.context,s=u.data;if((null===(t=null===(a=m.node.parent)||void 0===a?void 0:a.parent)||void 0===t?void 0:t.type)&&"table2"===m.node.parent.parent.type){var v=[!1!==m.node.info.plugin.withDataSource&&{sameName:m.info.renderer.isFormItem?"name":void 0,name:"name",type:"ae-DataBindingControl",label:f.i18n("4ca07911d10b74cc7c357b510e7cc948"),onBindingChange:function(e,a){var t;a((null===(t=null==e?void 0:e.resolveColumnSchema)||void 0===t?void 0:t.call(e,"List"))||{title:e.label})}},{sameName:m.info.renderer.isFormItem?"label":void 0,name:"title",label:f.i18n("eb2719a7e6cebda7ca234560f21fb448"),type:"input-text"},r.remarkTpl({name:"remark",label:f.i18n("3ba265c6b63bde0319822afd6b9a649d"),labelRemark:f.i18n("7ad83bbe4646a0011ece7fd338d1e189")}),{name:"placeholder",type:"input-text",label:b.tipedLabel(f.i18n("940b12c19fcf7aced0cdd164edc9acbc"),f.i18n("f35c90b504521a2da346960b9db23828")),value:"-"}].filter(Boolean),y=[b.getSchemaTpl("switch",{name:"sorter",label:b.tipedLabel(f.i18n("b4521626a48dcb61001fc563d2433ed3"),f.i18n("ac83dbca40c9d2151b5f7d81795535cc"))}),b.getSchemaTpl("switch",{name:"searchable",label:f.i18n("af9cbd3988196fc104af4fed9461e152"),pipeIn:function(e){return!!e}}),{visibleOn:"data.searchable",name:"searchable",asFormItem:!0,label:!1,children:function(e){var a=e.value,t=e.onChange,n=e.data;!0===a?a={}:void 0===a&&(a=d.getVariable(n,"searchable"));var b=a.mode;return delete(a=l.__assign(l.__assign({},a),{type:"form",mode:"normal",wrapWithPanel:!1,body:[{type:"input-text",name:n.key}]})).mode,p.default.createElement(c.Button,{className:"w-full flex flex-col items-center",onClick:function(){i.manager.openSubEditor({title:f.i18n("34dceb7c51000849ea3596fbaab6f67c"),value:a,onChange:function(e){return t(l.__assign(l.__assign({},e),{mode:b}),"searchable")}})}},p.default.createElement("span",{className:"inline-flex items-center"},p.default.createElement(c.Icon,{icon:"edit",className:"mr-1 w-3"}),"配置列搜索类型"))}},{name:"quickEdit",label:b.tipedLabel(f.i18n("9a899d9ab83d8ffa6308fb31e93f23a1"),f.i18n("9306b956ca5950203ee49a2680cac63d")),type:"ae-switch-more",mode:"normal",formType:"extend",bulk:!0,defaultData:{mode:"popOver"},form:{body:[{name:"quickEdit.mode",type:"button-group-select",label:f.i18n("f0789e79d48f135e5d870753f7a85d05"),value:"popOver",options:[{label:f.i18n("78f395c15aaf8c92d9223f6ca69b41a4"),value:"popOver"},{label:f.i18n("c6e1b91d329a61b691d0d5d2eb343ddd"),value:"inline"}]},b.getSchemaTpl("switch",{name:"quickEdit.saveImmediately",label:b.tipedLabel(f.i18n("4562be5a3f9823a5f61b25f8d14b2b43"),f.i18n("c115f372bcdced1e70824bcbf42b5923")),pipeIn:function(e){return!!e}}),{name:"quickEdit",asFormItem:!0,label:!1,children:function(e){var a=e.value,t=e.onBulkChange,n=e.name,b=e.data;!0===a?a={}:void 0===a&&(a=d.getVariable(b,"quickEdit"));var o=(null==a?void 0:a.mode)||"popOver";return(a=l.__assign(l.__assign({},a),{type:"form",mode:"normal",wrapWithPanel:!1,body:[{type:"input-text",name:b.key}]})).mode&&delete a.mode,p.default.createElement(c.Button,{className:"w-full flex flex-col items-center",onClick:function(){i.manager.openSubEditor({title:f.i18n("c3ed36e4abb96c18a6c83350994cdea7"),value:a,onChange:function(e){var a;return t(((a={})[n]=l.__assign(l.__assign({},e),{mode:o}),a))}})}},p.default.createElement("span",{className:"inline-flex items-center"},p.default.createElement(c.Icon,{icon:"edit",className:"mr-1 w-3"}),"配置编辑表单"))}}]}},{name:"popOver",label:f.i18n("90ef7c485bd31fab681c6e9d9afd5be8"),type:"ae-switch-more",mode:"normal",formType:"extend",bulk:!0,form:{body:[{name:"popOver.mode",label:f.i18n("f0789e79d48f135e5d870753f7a85d05"),type:"button-group-select",pipeIn:b.defaultValue("popOver"),options:[{label:f.i18n("71c0319fce9f416330b18e554e0acc55"),value:"popOver"},{label:f.i18n("ab3aec075a09d055b2a28c8b61925ee0"),value:"dialog"},{label:f.i18n("2a2924380dfcaea998bd8a49703545a9"),value:"drawer"}]},{name:"popOver.position",label:f.i18n("64035b04a21bc337a351b5a2a5d12acb"),type:"select",visibleOn:'data.popOver.mode === "popOver"',pipeIn:b.defaultValue("center"),options:[{label:f.i18n("68b54e7b408c4fb83561c931aa668eae"),value:"center"},{label:f.i18n("e18459c93769a5afec01e1ce60f9b9fd"),value:"left-top"},{label:f.i18n("1fc3cdd8437f5057774cde2f2c51f97c"),value:"right-top"},{label:f.i18n("63dd9faca92bccfd436ff21a6b4b3151"),value:"left-bottom"},{label:f.i18n("d01c239688b9c8fc145191ee642dc080"),value:"right-bottom"},{label:f.i18n("8fcf9802436282672a8e28ebd6262390"),value:"fixed-left-top"},{label:f.i18n("aed25160b4e8cfc613a743c4549e9222"),value:"fixed-right-top"},{label:f.i18n("d4a4ab1916187e09b9c037705fd49ffa"),value:"fixed-left-bottom"},{label:f.i18n("921fccbb84c829bf8c6f0b9957029f44"),value:"fixed-right-bottom"}]},{name:"popOver",asFormItem:!0,label:!1,children:function(e){var a=e.value,t=e.onBulkChange,n=e.name;return a=l.__assign({type:"panel",title:f.i18n("5b48dbb8dc710cffe6313bb56a7f6d47"),body:f.i18n("1d53f83df1d889a70131b7a93c819575")},a),p.default.createElement(c.Button,{className:"w-full flex flex-col items-center",onClick:function(){i.manager.openSubEditor({title:f.i18n("8dda45360dcf9ca501fd7d0eb53045b5"),value:a,onChange:function(e){var a;return t(((a={})[n]=e,a))}})}},p.default.createElement("span",{className:"inline-flex items-center"},p.default.createElement(c.Icon,{icon:"edit",className:"mr-1 w-3"}),"配置内容"))}}]}},{name:"copyable",label:b.tipedLabel(f.i18n("6a086902a84969a835423002718e86b4"),f.i18n("622e14515c4fd5ca6fe6946e3a1bfb4a")),type:"ae-switch-more",mode:"normal",formType:"extend",bulk:!0,defaultData:{},form:{body:[{name:"copyable.content",type:"textarea",placehoder:f.i18n("ca60c525372028b9f75ee4c708cccae1"),label:f.i18n("ac04259507be8ba6b891dc9dc208f491")}]}},{name:"rowSpanExpr",type:"ae-formulaControl",label:f.i18n("c9f7324519225bc72fce24a09518a8a8")},{name:"colSpanExpr",type:"ae-formulaControl",label:f.i18n("9af45e91a08b54764610ada28272d590")}],h=[b.getSchemaTpl("withUnit",{name:"width",label:b.tipedLabel(f.i18n("bdd9d38d7e2929024089363dc8f48b7a"),f.i18n("b198805e7a6b35830ba813f51db2fdc4")),control:{name:"width",type:"input-number"},unit:"px"}),{name:"fixed",type:"button-group-select",label:f.i18n("65f7e01d58cb5065f49e0e8f48cc16be"),pipeIn:b.defaultValue(""),pipeOut:function(e){if(e)return e},options:[{value:"",label:f.i18n("9ed8a4c5d1b3726121175dc986268b0c")},{value:"left",label:f.i18n("39a2cb79c6d9762783e20522ea86dcff")},{value:"right",label:f.i18n("de2a774bf98944b8f0ec8755d5f59d64")}]},b.getSchemaTpl("switch",{name:"toggled",label:f.i18n("ad96280bb24a38f9a83051b16ebc9688"),pipeIn:b.defaultValue(!0)}),b.getSchemaTpl("switch",{name:"className",label:f.i18n("eb58b078f2f8560160ebf87bc7109de9"),pipeIn:function(e){return"string"==typeof e&&/\word\-break\b/.test(e)},pipeOut:function(e,a){return(e?"word-break ":"")+(a||"").replace(/\bword\-break\b/g,"").trim()}})];if(Array.isArray(s))"tabs"===s[0].type?s[0].tabs.forEach((function(e){var a,t;e.title===f.i18n("22b777e6fcb613b8ba83ced9594cd07e")&&(a=e.body).unshift.apply(a,v.concat(y)),e.title===f.i18n("afcde2611bdd13c1e65b4fb6a2f13425")&&(t=e.body).unshift.apply(t,h)})):console.error(f.i18n("f1f4c88f30744f2365b65f1790c71da8"));else null===(n=s.tabs)||void 0===n||n.forEach((function(e){var a,t,n,c;if(e.title===f.i18n("24d67862f87f439db7ca957aecb77cce")){e.body[0].body.forEach((function(e){var a;if(e.title===f.i18n("4092ed98e9035652d4c9ca9441701ed7")){var t=o.fromPairs(v.map((function(e){var a;return[null!==(a=e.sameName)&&void 0!==a?a:e.name,e]}))),n=[];e.body.forEach((function(e,a){var c=e.name;if(t.hasOwnProperty(c))return n.push(a),void(t[c]=l.__assign(l.__assign({},e),t[c]));"labelRemark"===e.name&&n.push(a)})),n.reverse(),n.forEach((function(a){e.body.splice(a,1)})),(a=e.body).unshift.apply(a,Object.values(t))}}));var i=b.getSchemaTpl("collapseGroup",[{title:f.i18n("cb2f68c9c24e85d21e6b090b6e5657d8"),body:y}]);(a=e.body[0].body).splice.apply(a,l.__spreadArray([1,0],i.body,!1)),(t=e.body[0].activeKey).push.apply(t,i.activeKey)}if(e.title===f.i18n("afcde2611bdd13c1e65b4fb6a2f13425")){i=b.getSchemaTpl("collapseGroup",[{title:f.i18n("cb2f68c9c24e85d21e6b090b6e5657d8"),body:h}]);(n=e.body[0].body).splice.apply(n,l.__spreadArray([1,0],i.body,!1)),(c=e.body[0].activeKey).push.apply(c,i.activeKey)}}))}}}),Object.defineProperty(a.prototype,"getRendererInfo",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a=e.renderer,t=e.schema;if("cell-field"===a.name)return{name:t.title?"<".concat(t.title,">列"):f.i18n("044892c0c637f2d9e78e78956b1ded01"),$schema:"/schemas/TableColumn.json",multifactor:!0,wrapperResolve:function(e){var a,t,n=null===(a=e.parentElement)||void 0===a?void 0:a.parentElement,l=null==n?void 0:n.getAttribute("data-group-id"),c=null===(t=e.closest("table").parentElement)||void 0===t?void 0:t.parentElement;return[].slice.call(null==c?void 0:c.querySelectorAll('th[data-group-id="'.concat(l,'"],\n              td[data-group-id="').concat(l,'"]')))}}}}),Object.defineProperty(a.prototype,"beforeReplace",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a=e.context;a.info.plugin===this&&a.data&&(a.data.title=a.data.title||a.schema.title,a.data.key=a.data.key||a.schema.key)}}),a}(b.BasePlugin);b.registerEditorPlugin(m),a.TableCell2Plugin=m}));