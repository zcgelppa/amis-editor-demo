amis.define("8e8705e",(function(e,a,t,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("849c8c1"),c=e("167c905"),l=e("cc4bbf0"),r=e("8ba532b"),d=e("8beedab"),b=e("fb32b1a");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=o(l),p=function(e){var a=e.value,t=e.onChange;return f.default.createElement("div",{className:"ae-JsonEditor"},f.default.createElement(r.CodeEditor,{value:a,onChange:t}))},s=[{type:"object",properties:{"event.data.componentType":{type:"string",title:"componentType"},"event.data.seriesType":{type:"string",title:"seriesType"},"event.data.seriesIndex":{type:"number",title:"seriesIndex"},"event.data.seriesName":{type:"string",title:"seriesName"},"event.data.name":{type:"string",title:"name"},"event.data.dataIndex":{type:"number",title:"dataIndex"},"event.data.data":{type:"object",title:"data"},"event.data.dataType":{type:"string",title:"dataType"},"event.data.value":{type:"number",title:"value"},"event.data.color":{type:"string",title:"color"}}}],u=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(a,"rendererName",{enumerable:!0,configurable:!0,writable:!0,value:"chart"}),Object.defineProperty(a,"$schema",{enumerable:!0,configurable:!0,writable:!0,value:"/schemas/ChartSchema.json"}),Object.defineProperty(a,"name",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("d09504750ebc1d75c38d86e16060f83d")}),Object.defineProperty(a,"isBaseComponent",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"description",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("10e14f791d73c7c0f4113787f36f1626")}),Object.defineProperty(a,"docLink",{enumerable:!0,configurable:!0,writable:!0,value:"/amis/zh-CN/components/chart"}),Object.defineProperty(a,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[b.i18n("027446c2f9070b0f5b16a18208bf5fc7")]}),Object.defineProperty(a,"icon",{enumerable:!0,configurable:!0,writable:!0,value:"fa fa-pie-chart"}),Object.defineProperty(a,"pluginIcon",{enumerable:!0,configurable:!0,writable:!0,value:"chart-plugin"}),Object.defineProperty(a,"scaffold",{enumerable:!0,configurable:!0,writable:!0,value:{type:"chart",config:{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line"}]},replaceChartOption:!0}}),Object.defineProperty(a,"previewSchema",{enumerable:!0,configurable:!0,writable:!0,value:i.__assign({},a.scaffold)}),Object.defineProperty(a,"events",{enumerable:!0,configurable:!0,writable:!0,value:[{eventName:"init",eventLabel:b.i18n("2cb472ff9cad0c89a033c53996b52053"),description:b.i18n("76ddcc0ad85aa4be6875b73244a64faf"),dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:b.i18n("584e4b6108e132be92c9de09d7bbed72")}}}]},{eventName:"click",eventLabel:b.i18n("2ea6f1f33dec7cb3c23a1bf1f9eab11a"),description:b.i18n("fe9228649853d08eebee72ad5521a3dd"),dataSchema:s},{eventName:"mouseover",eventLabel:b.i18n("728c7cdfa431821d291b5108394ec65a"),description:b.i18n("a643d2fe12d205eb8fb5cffe92f62c35"),dataSchema:s},{eventName:"legendselectchanged",eventLabel:b.i18n("764c134791952dd1acb0f23587e75421"),description:b.i18n("262cd2f688751332c1907a659e686210"),dataSchema:[{type:"object",properties:{"event.data.name":{type:"string",title:"name"},"event.data.selected":{type:"object",title:"selected"}}}]}]}),Object.defineProperty(a,"actions",{enumerable:!0,configurable:!0,writable:!0,value:[{actionType:"reload",actionLabel:b.i18n("64ca9bab920a2983bcf270320d850d00"),description:b.i18n("9ef5597ac0b4da662bcd967da37eceb4")},{actionType:"setValue",actionLabel:b.i18n("67b6bec14c39be3f2602271e2fe3bcde"),description:b.i18n("0310aa5a05fe07147d8b7ef20616f659")}]}),Object.defineProperty(a,"panelTitle",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("d09504750ebc1d75c38d86e16060f83d")}),Object.defineProperty(a,"panelBodyCreator",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return[r.getSchemaTpl("tabs",[{title:b.i18n("22b777e6fcb613b8ba83ced9594cd07e"),body:[r.getSchemaTpl("layout:originPosition",{value:"left-top"}),r.getSchemaTpl("api",{label:b.i18n("3d6abfdea70af544603da70f93ed3d24"),description:b.i18n("03677b68a73eb59e5faf281f49f3c130")}),r.getSchemaTpl("switch",{label:b.i18n("1396ebc166bd49c1e3b67549a1b4caa0"),name:"initFetch",visibleOn:"data.api",pipeIn:r.defaultValue(!0)}),{name:"interval",label:b.i18n("2af32ab13a9dece315cec2764d6aa7d4"),type:"input-number",step:500,visibleOn:"data.api",description:b.i18n("bc827aaffaa35a95607346cc104c0785")},{name:"config",asFormItem:!0,component:p,label:b.i18n("57c7d1125d2803b946a5b25c3f80f249"),description:b.i18n("3d3fa75d8b345b22a5fbd14a65a0af71")},{name:"clickAction",asFormItem:!0,children:function(t){var n=t.onChange,i=t.value;return f.default.createElement("div",{className:"m-b"},f.default.createElement(c.Button,{size:"sm",level:i?"danger":"info",onClick:a.editDrillDown.bind(a,e.id)},"配置 DrillDown"),i?f.default.createElement(c.Button,{size:"sm",level:"link",className:"m-l",onClick:function(){return n("")}},"删除 DrillDown"):null)}},{name:"dataFilter",type:"js-editor",allowFullscreen:!0,label:b.i18n("4fd9621d4facc101aba3afec055e14d1"),size:"lg",description:"\n              如果后端没有直接返回 Echart 配置，可以自己写一段函数来包装。\n              <p>签名：(config, echarts, data) => config</p>\n              <p>参数说明</p>\n              <ul>\n              <li><code>config</code> 原始数据</li>\n              <li><code>echarts</code> echarts 对象</li>\n              <li><code>data</code> 如果配置了数据接口，接口返回的数据通过此变量传入</li>\n              </ul>\n              <p>示例</p>\n              <pre>debugger; // 可以浏览器中断点调试\n\n// 查看原始数据\nconsole.log(config)\n\n// 返回新的结果 \nreturn {}</pre>\n              "},r.getSchemaTpl("switch",{label:b.i18n("d98ef182637b4d10e16e8073c1101e51"),name:"replaceChartOption",labelRemark:{trigger:"click",className:"m-l-xs",rootClose:!0,content:b.i18n("f1f13cb0ca4720a727cbfba4c82e5890"),placement:"left"}})]},{title:b.i18n("afcde2611bdd13c1e65b4fb6a2f13425"),body:[r.getSchemaTpl("className")]},{title:b.i18n("33bf801796fd255b5f6147e33146669b"),body:[r.getSchemaTpl("visible")]},{title:b.i18n("0d98c74797e49d00bcc4c17c9d557a2b"),body:[r.getSchemaTpl("name")]},{title:b.i18n("10b2761db5a8e089049df39675abc550"),className:"p-none",body:[r.getSchemaTpl("eventControl",i.__assign({name:"onEvent"},d.getEventControlConfig(a.manager,e)))]}])]}}),a}return i.__extends(a,e),Object.defineProperty(a.prototype,"editDrillDown",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a=this.manager,t=a.store,n=t.getNodeById(e),c=t.getValueOf(e),l=c.clickAction&&c.clickAction.dialog||{title:b.i18n("32c65d8d7431e76029678ec7bb73a5ab"),body:[b.i18n("40128a51e9667fe6a20a0454069368ba")]};n&&c&&this.manager.openSubEditor({title:b.i18n("7e3f6245e2a6adb903cf85c77cb1bbd7"),value:i.__assign({type:"container"},l),slot:{type:"container",body:"$$"},typeMutable:!1,onChange:function(e){e=i.__assign(i.__assign({},c),{clickAction:{actionType:"dialog",dialog:e}}),a.panelChangeValue(e,r.diff(c,e))}})}}),a}(r.BasePlugin);r.registerEditorPlugin(u),a.ChartPlugin=u}));