amis.define("2cb816e",(function(e,a,n,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("849c8c1"),t=e("167c905"),b=e("cc4bbf0"),l=e("8ba532b"),d=e("8beedab"),r=e("fb32b1a");function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=f(b),p=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(a,"rendererName",{enumerable:!0,configurable:!0,writable:!0,value:"service"}),Object.defineProperty(a,"$schema",{enumerable:!0,configurable:!0,writable:!0,value:"/schemas/ServiceSchema.json"}),Object.defineProperty(a,"name",{enumerable:!0,configurable:!0,writable:!0,value:r.i18n("6a06f12bdf3fc96df6cb45467b9a7c2c")}),Object.defineProperty(a,"isBaseComponent",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"description",{enumerable:!0,configurable:!0,writable:!0,value:r.i18n("9cc50da6bb17ea7ecf44c254c9b37619")}),Object.defineProperty(a,"docLink",{enumerable:!0,configurable:!0,writable:!0,value:"/amis/zh-CN/components/service"}),Object.defineProperty(a,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[r.i18n("997c7a5d34f6fc628893f509d0df32e0")]}),Object.defineProperty(a,"icon",{enumerable:!0,configurable:!0,writable:!0,value:"fa fa-server"}),Object.defineProperty(a,"pluginIcon",{enumerable:!0,configurable:!0,writable:!0,value:"service-plugin"}),Object.defineProperty(a,"scaffold",{enumerable:!0,configurable:!0,writable:!0,value:{type:"service",body:[{type:"tpl",tpl:r.i18n("2d711b09bd0db0ad240cc83b30dd8014"),inline:!1}]}}),Object.defineProperty(a,"previewSchema",{enumerable:!0,configurable:!0,writable:!0,value:{type:"tpl",tpl:r.i18n("c5a33208cf3deab68cd9fe34679edff6")}}),Object.defineProperty(a,"regions",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"body",label:r.i18n("132a78bdf68d6d17bde00aa807bbf032")}]}),Object.defineProperty(a,"events",{enumerable:!0,configurable:!0,writable:!0,value:[{eventName:"init",eventLabel:r.i18n("2cb472ff9cad0c89a033c53996b52053"),description:r.i18n("76ddcc0ad85aa4be6875b73244a64faf"),dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:r.i18n("584e4b6108e132be92c9de09d7bbed72")}}}]},{eventName:"fetchInited",eventLabel:r.i18n("9328b90ded33d16a873db5c0dbd815b8"),description:r.i18n("f3b97bd71a77cca1e9288089a537cf3b")},{eventName:"fetchSchemaInited",eventLabel:r.i18n("a6eebb9b4fc7148e2dc41335c74e6393"),description:r.i18n("887954cd9bdb290003984fe9a6eb99e2")}]}),Object.defineProperty(a,"actions",{enumerable:!0,configurable:!0,writable:!0,value:[{actionType:"reload",actionLabel:r.i18n("64ca9bab920a2983bcf270320d850d00"),description:r.i18n("9ef5597ac0b4da662bcd967da37eceb4")},{actionType:"rebuild",actionLabel:r.i18n("f885d4055567877facf0a3ff376a114e"),description:r.i18n("c8f0e77a9eb5de26e6ab62695d8494b6")},{actionType:"setValue",actionLabel:r.i18n("e22855f53b7a1ab33e920375c0cd0e3d"),description:r.i18n("8b10146a8a896b890b3796eefcc3c6d3")}]}),Object.defineProperty(a,"panelTitle",{enumerable:!0,configurable:!0,writable:!0,value:r.i18n("47d68cd0f4c3e91a86d23afe8afccfb8")}),Object.defineProperty(a,"panelBodyCreator",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return console.log(e),console.log(e.node.parent),console.log(e.node.parent.getComponent()),l.getSchemaTpl("tabs",[{title:r.i18n("24d67862f87f439db7ca957aecb77cce"),className:"p-none",body:[l.getSchemaTpl("collapseGroup",[{title:r.i18n("4092ed98e9035652d4c9ca9441701ed7"),body:[l.getSchemaTpl("layout:originPosition",{value:"left-top"}),l.getSchemaTpl("name"),{children:o.default.createElement(t.Button,{level:"info",size:"sm",className:"m-b-sm",block:!0,onClick:function(){a.manager.showRendererPanel("")}},"添加内容")}]},{title:r.i18n("31f8a7a967286a16eb404e3ba237619e"),body:[l.getSchemaTpl("apiControl",{name:"api",label:r.i18n("31f8a7a967286a16eb404e3ba237619e"),messageDesc:r.i18n("54f876a529283de5668426b2dc8adb15")}),{name:"ws",type:"input-text",label:r.i18n("7fa237c1b62d04aaec0144d1fc89d620")},l.getSchemaTpl("switch",{name:"initFetch",label:r.i18n("9dfeacc54ab6cd6d2ac08df387777f9e"),visibleOn:"this.api"}),{name:"interval",label:r.i18n("2af32ab13a9dece315cec2764d6aa7d4"),visibleOn:"this.api",type:"input-number",step:500,description:r.i18n("9800f1ce2f78a23b81c8d944ebf9cce9")},l.getSchemaTpl("switch",{name:"silentPolling",label:r.i18n("98223d478e88ccbc2406412a46dda8c2"),visibleOn:"!!data.interval",description:r.i18n("71ae1c76cc4160f8fb76e404e35ca08f")}),{name:"stopAutoRefreshWhen",label:r.i18n("b897babfafd35cc5d6e66470115c93cf"),type:"input-text",visibleOn:"!!data.interval",description:r.i18n("32e3a79e80dcf7f7304e8092dd7acc6f")}]},{title:r.i18n("11bcbff684dfe6edf36e1fd1adc5ba30"),body:[l.getSchemaTpl("apiControl",{name:"schemaApi",label:r.i18n("8cc3239eba9fe65b99242adb33634b33")}),l.getSchemaTpl("switch",{name:"initFetchSchema",label:r.i18n("3f423669b0ffeb3993b95085cd8a111e"),visibleOn:"this.schemaApi"})]},{title:r.i18n("8e8aaafe8db0d8eb05e3b11550cbabe7"),body:[l.getSchemaTpl("loadingConfig",{},{context:e}),l.getSchemaTpl("data"),{type:"js-editor",allowFullscreen:!0,name:"dataProvider",label:r.i18n("7481babe858320dd6a4adcf307fd151d"),description:r.i18n("bfdee34e14602e3113c88a9145843e86")},{label:r.i18n("b64292a1903bd969d0e3a558c334f5bf"),type:"combo",name:"messages",multiLine:!0,description:r.i18n("54f876a529283de5668426b2dc8adb15"),items:[{label:r.i18n("fb559ab354303d1927dcd9f0f2dffa23"),type:"input-text",name:"fetchSuccess"},{label:r.i18n("56f0a1c0bc0408556c5810ea4f219dd4"),type:"input-text",name:"fetchFailed"}]}]},{title:r.i18n("3fea7ca76cdece641436d7ab0d02ab1b"),body:[l.getSchemaTpl("ref"),l.getSchemaTpl("visible")]}])]},{title:r.i18n("afcde2611bdd13c1e65b4fb6a2f13425"),body:[l.getSchemaTpl("className")]},{title:r.i18n("10b2761db5a8e089049df39675abc550"),className:"p-none",body:[l.getSchemaTpl("eventControl",i.__assign({name:"onEvent"},d.getEventControlConfig(a.manager,e)))]}])}}),a}return i.__extends(a,e),Object.defineProperty(a.prototype,"rendererBeforeDispatchEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a,n){if("fetchInited"===a){var c=this.manager.dataSchema.getScope("".concat(e.id,"-").concat(e.type)),t=i.__assign({$id:"serviceFetchInitedData"},l.jsonToJsonSchema(n));null==c||c.removeSchema(t.$id),null==c||c.addSchema(t)}}}),a}(l.BasePlugin);l.registerEditorPlugin(p),a.ServicePlugin=p}));