amis.define("55ef10b",(function(e,a,n,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e("849c8c1"),i=e("167c905"),o=e("cc4bbf0"),r=e("8ba532b"),c=e("fb32b1a");function b(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=b(o),u=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(a,"rendererName",{enumerable:!0,configurable:!0,writable:!0,value:"hbox"}),Object.defineProperty(a,"$schema",{enumerable:!0,configurable:!0,writable:!0,value:"/schemas/HBoxSchema.json"}),Object.defineProperty(a,"disabledRendererPlugin",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HBox"}),Object.defineProperty(a,"isBaseComponent",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"icon",{enumerable:!0,configurable:!0,writable:!0,value:"fa fa-columns"}),Object.defineProperty(a,"description",{enumerable:!0,configurable:!0,writable:!0,value:c.i18n("69a519f6b7fd6d0bebba72e7572ea1d6")}),Object.defineProperty(a,"docLink",{enumerable:!0,configurable:!0,writable:!0,value:"/amis/zh-CN/components/hbox"}),Object.defineProperty(a,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[c.i18n("22c799040acdb2601b437ed5449de076")]}),Object.defineProperty(a,"scaffold",{enumerable:!0,configurable:!0,writable:!0,value:{type:"hbox",gap:"base",columns:[{body:[]},{body:[]}]}}),Object.defineProperty(a,"previewSchema",{enumerable:!0,configurable:!0,writable:!0,value:{type:"hbox",columns:[{type:"tpl",tpl:c.i18n("f9c91bffab8b1202cf32ab508879e805"),columnClassName:"bg-primary w-xs"},{type:"tpl",tpl:c.i18n("8c187c1862900db487c8d47e19490fac"),columnClassName:"bg-success"}]}}),Object.defineProperty(a,"panelTitle",{enumerable:!0,configurable:!0,writable:!0,value:"HBox"}),Object.defineProperty(a,"panelBodyCreator",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return[r.getSchemaTpl("tabs",[{title:c.i18n("22b777e6fcb613b8ba83ced9594cd07e"),body:[r.getSchemaTpl("layout:originPosition",{value:"left-top"}),r.getSchemaTpl("fieldSet",{title:c.i18n("9bdb07e72d3a9a6084201a7398523f5a"),collapsable:!1,body:[{type:"wrapper",size:"none",className:"grid grid-cols-2 gap-4 mb-4",body:[{children:d.default.createElement(i.Button,{size:"sm",onClick:function(){return a.insertRowAfter(e.node)}},d.default.createElement(r.Icon,{className:"icon",icon:"arrow-to-bottom"}),d.default.createElement("span",null,"下方插入新行"))},{children:d.default.createElement(i.Button,{size:"sm",onClick:function(){return a.insertRowBefore(e.node)}},d.default.createElement(r.Icon,{className:"icon",icon:"top-arrow-to-top"}),d.default.createElement("span",null,"上方插入新行"))}]},{label:c.i18n("eb22d47f16f92e6f621c2b9d87119303"),name:"columns",type:"select",pipeIn:function(e){return Array.isArray(e)?e.length:void 0},pipeOut:function(e,a){return Array.isArray(a)&&(a.length>e?(a=a.concat()).splice(e-1,a.length-e):a=a.concat(r.repeatArray({body:[]},e-a.length))),a},options:r.repeatArray(null,12).map((function(e,a){return{label:"".concat(a+1),value:a+1}}))}]}),{type:"list-select",name:"gap",label:c.i18n("c288b519484207bea1d51884a5e9acaf"),size:"sm",clearable:!0,tiled:!0,options:[{label:c.i18n("23ecf42cada8bf2715792d718544d107"),value:"xs"},{label:c.i18n("391b8fa9c747a1799353ab856e666ad5"),value:"sm"},{label:c.i18n("fd6e80f1e0199d6ecc3ee81ae04aa9ef"),value:"base"},{label:c.i18n("aed1dfbc31703955e64806b799b67645"),value:"md"},{label:c.i18n("ab18e30c0dc4093ceeda8961fac3d1f4"),value:"lg"}]},r.getSchemaTpl("combo-container",{name:"columns",label:c.i18n("1f9794dd5634220ed0a498c666cf46fe"),type:"combo",scaffold:{body:[]},minLength:1,multiple:!0,draggableTip:"",items:[{type:"tpl",tpl:'<span class="label label-default">'.concat(c.i18n("cb2f68c9c24e85d21e6b090b6e5657d8"),"${index | plus}</span>"),columnClassName:"no-grow v-middle"},r.getSchemaTpl("className",{name:"columnClassName",labelRemark:"",label:""})]}),r.getSchemaTpl("fieldSet",{title:c.i18n("98d695d6a6a48cfb4bc2f6396ee64787"),collapsable:!1,body:[{type:"button-group-select",name:"align",size:"sm",label:!1,tiled:!0,pipeIn:r.defaultValue("left"),options:[{value:"left",label:c.i18n("413f48cc71f71083ce532a86e3efdc21")},{value:"center",label:c.i18n("1cc9a6949b47913462ff832cb684bdde")},{value:"right",label:c.i18n("fd8e9572cc6bf87653c4d8f8b8dd0db9")},{value:"between",label:c.i18n("da1b972efb29f850b50e219ad4d98ba5")}]}]}),r.getSchemaTpl("fieldSet",{title:c.i18n("11b7fc50778c89572391ec4c6c4b55e1"),collapsable:!1,body:[{type:"button-group-select",name:"valign",size:"sm",label:!1,tiled:!0,pipeIn:r.defaultValue("top"),options:[{value:"top",label:c.i18n("2a6ad292447e6354ca39ee7f40d2fcc8")},{value:"middle",label:c.i18n("1cc9a6949b47913462ff832cb684bdde")},{value:"bottom",label:c.i18n("d68c21b6b65e7a2e361762b65b8a5032")},{value:"between",label:c.i18n("da1b972efb29f850b50e219ad4d98ba5")}]}]})]},{title:c.i18n("afcde2611bdd13c1e65b4fb6a2f13425"),body:[r.getSchemaTpl("className"),r.getSchemaTpl("subFormItemMode"),r.getSchemaTpl("subFormHorizontalMode"),r.getSchemaTpl("subFormHorizontal")]},{title:c.i18n("33bf801796fd255b5f6147e33146669b"),body:[r.getSchemaTpl("visible")]}])]}}),Object.defineProperty(a,"vRendererConfig",{enumerable:!0,configurable:!0,writable:!0,value:{regions:{body:{key:"body",label:c.i18n("132a78bdf68d6d17bde00aa807bbf032"),placeholder:c.i18n("cb2f68c9c24e85d21e6b090b6e5657d8"),wrapperResolve:function(e){return e}}},panelTitle:c.i18n("cb2f68c9c24e85d21e6b090b6e5657d8"),panelBodyCreator:function(e){return[r.getSchemaTpl("tabs",[{title:c.i18n("22b777e6fcb613b8ba83ced9594cd07e"),body:[r.getSchemaTpl("fieldSet",{title:c.i18n("9bdb07e72d3a9a6084201a7398523f5a"),collapsable:!1,body:[{type:"wrapper",size:"none",className:"grid grid-cols-2 gap-4",body:[{children:d.default.createElement(i.Button,{size:"sm",onClick:function(){return a.insertRowAfter(e.node.host)}},d.default.createElement(r.Icon,{className:"icon",icon:"arrow-to-bottom"}),d.default.createElement("span",null,"下方插入新行"))},{children:d.default.createElement(i.Button,{size:"sm",onClick:function(){return a.insertRowBefore(e.node.host)}},d.default.createElement(r.Icon,{className:"icon",icon:"top-arrow-to-top"}),d.default.createElement("span",null,"上方插入新行"))},{children:d.default.createElement(i.Button,{size:"sm",onClick:function(){return a.insertColumnBefore(e)}},d.default.createElement(r.Icon,{className:"icon",icon:"left-arrow-to-left"}),d.default.createElement("span",null,"左侧插入新列"))},{children:d.default.createElement(i.Button,{size:"sm",onClick:function(){return a.insertColumnAfter(e)}},d.default.createElement(r.Icon,{className:"icon",icon:"arrow-to-right"}),d.default.createElement("span",null,"右侧插入新列"))}]}]}),r.getSchemaTpl("fieldSet",{title:c.i18n("a170a375b264f7fe0c02a7ca8c268784"),collapsable:!1,body:[{type:"button-group-select",name:"width",size:"sm",label:!1,pipeIn:function(e){return e&&"auto"!==e?"manual":e||""},pipeOut:function(e){return"manual"===e?"20%":e},options:[{value:"",label:c.i18n("daa0f354e189c0da577ea25be13f874d")},{value:"auto",label:c.i18n("4db804afe5c99f7ca4fe988ada35c77f")},{value:"manual",label:c.i18n("2a3e7f5c382c56faf261a87573658325")}],description:'<% if (this.width && this.width !== "auto") {%>'.concat(c.i18n("92e2c6523449dfad4350f58908260266"),"<%}%>")}]}),r.getSchemaTpl("fieldSet",{title:c.i18n("11b7fc50778c89572391ec4c6c4b55e1"),collapsable:!1,body:[{type:"button-group-select",name:"valign",size:"sm",label:!1,tiled:!0,clearable:!0,options:[{value:"top",label:c.i18n("2a6ad292447e6354ca39ee7f40d2fcc8")},{value:"middle",label:c.i18n("1cc9a6949b47913462ff832cb684bdde")},{value:"bottom",label:c.i18n("d68c21b6b65e7a2e361762b65b8a5032")},{value:"between",label:c.i18n("da1b972efb29f850b50e219ad4d98ba5")}]}]})]},{title:c.i18n("afcde2611bdd13c1e65b4fb6a2f13425"),body:[r.getSchemaTpl("className",{name:"columnClassName",label:c.i18n("129b16a89a82c6d5e03ab075633b3892"),description:c.i18n("d34cc10492e80595a901a292d0c16bb8")})]}])]}}}),Object.defineProperty(a,"vWrapperResolve",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(a,"overrides",{enumerable:!0,configurable:!0,writable:!0,value:{renderColumn:function(e,a){var n,t,l=this.super(e,a),i=this.props.$$editor;if(i&&e.$$id){var o=i.plugin,c=null===(t=null===(n=o.vRendererConfig)||void 0===n?void 0:n.regions)||void 0===t?void 0:t.body;return c?d.default.createElement(r.VRenderer,{key:e.$$id,type:i.type,plugin:i.plugin,renderer:i.renderer,$schema:"",hostId:i.id,memberIndex:a,name:"第".concat(a+1,"列"),id:e.$$id,draggable:!1,schemaPath:"".concat(i.schemaPath,"/hbox/").concat(a),wrapperResolve:o.vWrapperResolve,path:"".concat(this.props.$path,"/").concat(a),data:this.props.data,widthMutable:!0},c?d.default.createElement(r.RegionWrapper,{key:c.key,preferTag:c.preferTag,name:c.key,label:c.label,regionConfig:c,placeholder:c.placeholder,editorStore:o.manager.store,manager:o.manager,children:l,wrapperResolve:c.wrapperResolve,rendererName:i.renderer.name}):l):l}return l}}}),a}return l.__extends(a,e),Object.defineProperty(a.prototype,"afterResolveJsonSchema",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a,n,t=null===(a=e.context.node.parent)||void 0===a?void 0:a.host;(null===(n=null==t?void 0:t.info)||void 0===n?void 0:n.plugin)===this&&e.setData("/schemas/HBoxColumn.json")}}),Object.defineProperty(a.prototype,"buildEditorContextMenu",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){var n,t=this;e.selections.length||(null===(n=e.info)||void 0===n?void 0:n.plugin)!==this||(e.node.isVitualRenderer?(a.push("|"),a.push({label:c.i18n("4bfd6e7e1ec0fe485aa0e7741d1670db"),onSelect:function(){return t.insertColumnBefore(e)}}),a.push({label:c.i18n("9d75cc0b193601391a139285d55a3493"),onSelect:function(){return t.insertColumnAfter(e)}}),a.push("|"),a.push({label:c.i18n("57ff158884582ed498a87d03aed46146"),onSelect:function(){return t.insertRowBefore(e.node.host)}}),a.push({label:c.i18n("bd63eab86ac0e0b35a06d0f24a098096"),onSelect:function(){return t.insertRowAfter(e.node.host)}})):(a.push("|"),a.push({label:c.i18n("57ff158884582ed498a87d03aed46146"),onSelect:function(){return t.insertRowBefore(e.node)}}),a.push({label:c.i18n("bd63eab86ac0e0b35a06d0f24a098096"),onSelect:function(){return t.insertRowAfter(e.node)}})))}}),Object.defineProperty(a.prototype,"onWidthChangeStart",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a,n,t=e.context,i=t.node;if((null===(a=i.info)||void 0===a?void 0:a.plugin)===this){var o=i.host;if(o&&(null===(n=o.info)||void 0===n?void 0:n.plugin)===this){var r=t.dom,c=r.parentElement;if(c){var b=t.resizer,d=c.getBoundingClientRect(),u=o.schema.columns,f=i.index,s=u[f].width,p=r.getBoundingClientRect();e.setData({onMove:function(e){var a=e.pageX-p.left,n=s="".concat(Math.max(1,Math.min(99,Math.round(100*a/d.width))),"%");(u=u.concat())[f]=l.__assign(l.__assign({},u[f]),{width:n}),b.setAttribute("data-value",n),o.updateState({columns:u}),requestAnimationFrame((function(){i.calculateHighlightBox()}))},onEnd:function(){o.updateState({},!0),b.removeAttribute("data-value"),i.updateSchema({width:s}),requestAnimationFrame((function(){i.calculateHighlightBox()}))}})}}}}}),Object.defineProperty(a.prototype,"insertRowAfter",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a;if((null===(a=e.info)||void 0===a?void 0:a.plugin)===this){var n=this.manager.store,t=n.schema,l=e.id;n.traceableSetSchema(r.JSONChangeInArray(t,l,(function(e,a,n){e.splice(n+1,0,r.JSONPipeIn({type:"hbox",align:a.align,valign:a.valign,columns:a.columns.map((function(e){return{body:[],width:null==e?void 0:e.width}}))}))})))}}}),Object.defineProperty(a.prototype,"insertRowBefore",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a;if((null===(a=e.info)||void 0===a?void 0:a.plugin)===this){var n=this.manager.store,t=e.id,l=n.schema;n.traceableSetSchema(r.JSONChangeInArray(l,t,(function(e,a,n){e.splice(n,0,r.JSONPipeIn({type:"hbox",align:a.align,valign:a.valign,columns:a.columns.map((function(e){return{body:[],width:null==e?void 0:e.width}}))}))})))}}}),Object.defineProperty(a.prototype,"insertColumnBefore",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a;if((null===(a=e.node.info)||void 0===a?void 0:a.plugin)===this){var n=this.manager.store,t=n.schema,l=e.id;n.traceableSetSchema(r.JSONChangeInArray(t,l,(function(e,a,n){e.splice(n,0,r.JSONPipeIn({body:[]}))})))}}}),Object.defineProperty(a.prototype,"insertColumnAfter",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a;if((null===(a=e.node.info)||void 0===a?void 0:a.plugin)===this){var n=e.id,t=this.manager.store,l=t.schema;t.traceableSetSchema(r.JSONChangeInArray(l,n,(function(e,a,n){e.splice(n+1,0,r.JSONPipeIn({body:[]}))})))}}}),a}(r.BasePlugin);r.registerEditorPlugin(u),a.HBoxPlugin=u}));