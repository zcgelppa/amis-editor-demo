amis.define("19008a4",(function(e,a,n,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e("849c8c1"),i=e("167c905"),c=e("c2555e3"),b=e("8ba532b"),r=e("8beedab"),d=e("fb32b1a"),o=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(a,"rendererName",{enumerable:!0,configurable:!0,writable:!0,value:"table2"}),Object.defineProperty(a,"$schema",{enumerable:!0,configurable:!0,writable:!0,value:"/schemas/TableSchema.json"}),Object.defineProperty(a,"name",{enumerable:!0,configurable:!0,writable:!0,value:d.i18n("0d1f68afa19f3f3dd88e28d17c98ddf9")}),Object.defineProperty(a,"isBaseComponent",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"panelJustify",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"disabledRendererPlugin",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"description",{enumerable:!0,configurable:!0,writable:!0,value:d.i18n("ea2b32f5d78d2305b9b7bc21e056a009")}),Object.defineProperty(a,"docLink",{enumerable:!0,configurable:!0,writable:!0,value:"/amis/zh-CN/components/table2"}),Object.defineProperty(a,"icon",{enumerable:!0,configurable:!0,writable:!0,value:"fa fa-table"}),Object.defineProperty(a,"scaffold",{enumerable:!0,configurable:!0,writable:!0,value:{type:"table2",columns:[{title:d.i18n("20aadc3f9b7edb564dc58898898e0dc8"),name:"a"}],source:"$item"}}),Object.defineProperty(a,"regions",{enumerable:!0,configurable:!0,writable:!0,value:[{key:"columns",label:d.i18n("1f9794dd5634220ed0a498c666cf46fe"),renderMethod:"renderTable",preferTag:d.i18n("027446c2f9070b0f5b16a18208bf5fc7"),dndMode:"position-h"}]}),Object.defineProperty(a,"previewSchema",{enumerable:!0,configurable:!0,writable:!0,value:{type:"table2",className:"text-left m-b-none",items:[{a:1,b:2,c:9},{a:3,b:4,c:8},{a:5,b:6,c:7}],columns:[{title:"A",name:"a"},{title:"B",name:"b"}]}}),Object.defineProperty(a,"scaffoldForm",{enumerable:!0,configurable:!0,writable:!0,value:{title:d.i18n("6b93fcfc1a5795189c6072fa6e86d4f6"),body:[{name:"columns",type:"combo",multiple:!0,label:!1,addButtonText:d.i18n("0c14e431f1b5ecd163f8fa010a0654c7"),draggable:!0,items:[{type:"input-text",name:"title",placeholder:d.i18n("32c65d8d7431e76029678ec7bb73a5ab")},{type:"input-text",name:"name",placeholder:d.i18n("41a344642681efaaa418c228ba7fb45c")},{type:"select",name:"type",placeholder:d.i18n("226b0912184333c81babf2f1894ec0c1"),value:"text",options:[{value:"text",label:d.i18n("ffb01e5bcf4c00447f5150d3cba81371")},{value:"tpl",label:d.i18n("59cf15fe6b8d659c9bd2f86143534a06")},{value:"image",label:d.i18n("20def7942674282277c3714ed7ea6ce0")},{value:"date",label:d.i18n("4ff1e74e43a3586339251494117185ad")},{value:"progress",label:d.i18n("c7bff79d059a0b7ff9b02441959d8be2")},{value:"status",label:d.i18n("3fea7ca76cdece641436d7ab0d02ab1b")},{value:"mapping",label:d.i18n("9da188491dd34c4382a5b9f006194e41")},{value:"container",label:d.i18n("22c799040acdb2601b437ed5449de076")},{value:"operation",label:d.i18n("8abc564260a1564521e0c3a1d5419b4a")}]}]}],canRebuild:!0}}),Object.defineProperty(a,"panelTitle",{enumerable:!0,configurable:!0,writable:!0,value:d.i18n("b339aa87104709397ba68e7ebbc6e5ba")}),Object.defineProperty(a,"events",{enumerable:!0,configurable:!0,writable:!0,value:[{eventName:"selectedChange",eventLabel:d.i18n("257f5a3886d87d2255206f86b880d07e"),description:d.i18n("6130b1f75d624b2f73f5d923492e92f7"),dataSchema:[{type:"object",properties:{"event.data.selectedItems":{type:"array",title:d.i18n("aeddca0456d8fe520dc95545a83458e9")},"event.data.unSelectedItems":{type:"array",title:d.i18n("4f907cb94921bb62a8399adec922bb60")}}}]},{eventName:"columnSort",eventLabel:d.i18n("f3d21138c8ecf5683503c4f814cc7199"),description:d.i18n("d84464cfb2a5828a200fe9c28a323122"),dataSchema:[{type:"object",properties:{"event.data.orderBy":{type:"string",title:d.i18n("652f155e644e82ebb0a1aed97ab6ab23")},"event.data.orderDir":{type:"string",title:d.i18n("460e3a697d1680445a47139c0816fbe6")}}}]},{eventName:"columnFilter",eventLabel:d.i18n("3d0b957a99d0c366612c01913e17a0c7"),description:d.i18n("b35963687361af98e6acdc004e87fc3c"),dataSchema:[{type:"object",properties:{"event.data.filterName":{type:"string",title:d.i18n("ad11fba3ac676233f3105e76e7de0501")},"event.data.filterValue":{type:"string",title:d.i18n("8e4b9c88c51aaad1a28a28e8b536697f")}}}]},{eventName:"columnSearch",eventLabel:d.i18n("93a5a0253f11e3a2e58f4e87a52fb094"),description:d.i18n("6d4c4990ab2c32efe8a17c5f22e10cb5"),dataSchema:[{type:"object",properties:{"event.data.searchName":{type:"string",title:d.i18n("a80a4486100baf3f45fab3a59e4a816d")},"event.data.searchValue":{type:"object",title:d.i18n("b9a565fe1dc488efae1d63464f277f09")}}}]},{eventName:"orderChange",eventLabel:d.i18n("85ddd38957256b6e9026f42ed570bc35"),description:d.i18n("d7a66def82af88cd5d408e38feb8a65a"),dataSchema:[{type:"object",properties:{"event.data.movedItems":{type:"array",title:d.i18n("1987561c006c7192ab619f81103d2a2f")}}}]},{eventName:"columnToggled",eventLabel:d.i18n("ecfebbc91e2c18a512aeb11b7da15193"),description:d.i18n("c94f45773a42dc386b9c9dcdc6fa542b"),dataSchema:[{type:"object",properties:{"event.data.columns":{type:"array",title:d.i18n("70567329ee851a5ba7e7301bd8e9d9a1")}}}]},{eventName:"rowClick",eventLabel:d.i18n("76e47871d654c3b0b0e301c0a076e55a"),description:d.i18n("cc13521eab2c7423b3fb857772405cc3"),dataSchema:[{type:"object",properties:{"event.data.rowItem":{type:"object",title:d.i18n("2fbbf5c38b66ac5496ac42246bbe9e0b")}}}]}]}),Object.defineProperty(a,"actions",{enumerable:!0,configurable:!0,writable:!0,value:[{actionType:"select",actionLabel:d.i18n("8eb3c8b16106e5487cd1fa3b8a1342ce"),description:d.i18n("908cc16fe4f7972450167e26276ac726"),schema:r.getArgsWrapper([{name:"selected",label:d.i18n("a2b39e5a8b5015234dcd8e07a2e00e3d"),type:"ae-formulaControl",variables:"${variables}",size:"lg",mode:"horizontal"}])},{actionType:"selectAll",actionLabel:d.i18n("366a3c07289bd6efb7c2a182f7a12772"),description:d.i18n("e97c09cd119b64ae0a8dfd42a1d449cb")},{actionType:"clearAll",actionLabel:d.i18n("c3e8652924c258e121eed16414d3a9e5"),description:d.i18n("7619ec29c0a854dd49e0a7a47bf1a127")}]}),Object.defineProperty(a,"panelBodyCreator",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var n=["crud","crud2"].includes(e.schema.type);return b.getSchemaTpl("tabs",[{title:d.i18n("24d67862f87f439db7ca957aecb77cce"),body:[b.getSchemaTpl("collapseGroup",[{title:d.i18n("4092ed98e9035652d4c9ca9441701ed7"),body:[b.getSchemaTpl("layout:originPosition",{value:"left-top"}),{name:"source",type:"input-text",label:b.tipedLabel(d.i18n("c11322c9cc43ce3c004cf03f5ac0acd0"),d.i18n("8369004103635f8e75026217ebf237da")),hidden:n,pipeIn:b.defaultValue("${items}")},b.getSchemaTpl("switch",{name:"title",label:d.i18n("bd3e7a1b636e4477a4ea59922ed2cc1e"),pipeIn:function(e){return!!e},pipeOut:function(e){return e?{type:"container",body:[{type:"tpl",tpl:d.i18n("11d00f37d934b2464f3258952a398626"),inline:!1,style:{fontSize:14}}]}:null}}),b.getSchemaTpl("switch",{name:"showHeader",label:d.i18n("4e3cd1a7b193e2fd3458278d10c530e2"),value:!0,pipeIn:function(e){return!!e},pipeOut:function(e){return!!e}}),b.getSchemaTpl("switch",{visibleOn:"this.showHeader !== false",name:"sticky",label:d.i18n("023ff3530e48493e653eb48e958a4eb8"),pipeIn:b.defaultValue(!1)}),b.getSchemaTpl("switch",{name:"footer",label:d.i18n("dd9b85b2cd13ca724afd1f43567abdbf"),pipeIn:function(e){return!!e},pipeOut:function(e){return e?{type:"container",body:[{type:"tpl",tpl:d.i18n("c89b5fd3b706a17feb016d93c80e34b1"),inline:!1,style:{fontSize:14}}]}:null}}),{name:"scroll.y",label:d.i18n("a5baa4818b14f4680955aa34dd559d02"),type:"button-group-select",pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":null},options:[{label:d.i18n("4db804afe5c99f7ca4fe988ada35c77f"),value:!1},{label:d.i18n("1ef8fd21130d17cb7c1613eaed6ca1e4"),value:!0}]},{type:"input-group",visibleOn:"data.scroll && data.scroll.y !== null",label:d.i18n("ee18dc475df8654cb13ad67dd84eec28"),body:[{type:"input-number",name:"scroll.y"},{type:"tpl",addOnclassName:"border-0 bg-none",tpl:"px"}]},{name:"scroll.x",label:b.tipedLabel(d.i18n("8bb5781dc5f2745e6356cdc5e6d76b16"),d.i18n("88a364068f684dc77aca5b6c006ef576")),type:"button-group-select",pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":null},options:[{label:d.i18n("4db804afe5c99f7ca4fe988ada35c77f"),value:!1},{label:d.i18n("1ef8fd21130d17cb7c1613eaed6ca1e4"),value:!0}]},{type:"input-group",visibleOn:"data.scroll && data.scroll.x !== null",name:"scroll.x",label:d.i18n("6e3d35b57c29b1b419569cc55b3a5d33"),body:[{type:"input-number",name:"scroll.x"},{type:"tpl",addOnclassName:"border-0 bg-none",tpl:"px"}]},b.getSchemaTpl("tablePlaceholder")]},{title:d.i18n("949a8b7bd2c10070a2fae16f9c66afbb"),body:[b.getSchemaTpl("switch",{name:"resizable",label:b.tipedLabel(d.i18n("ba4f461832cbdb7fbdb170fc9c1db647"),d.i18n("aa2bd9f54608c0c85d3ceecb707938c9")),pipeIn:function(e){return!!e},pipeOut:function(e){return e}}),n?null:{type:"ae-Switch-More",mode:"normal",name:"columnsTogglable",hiddenOnDefault:!0,formType:"extend",label:b.tipedLabel(d.i18n("2816cea6c4887a53c417831deb5fbe00"),d.i18n("d3c5079f7e26b1a7374ff76341376de4")),pipeOut:function(e){return e&&e.columnsTogglable?{columnsTogglable:{type:"column-toggler"}}:e},form:{body:[{mode:"normal",type:"ae-columnControl"}]}}]},{title:d.i18n("ed85be57262e5a0c3116293e88278fef"),body:[{name:"lineHeight",label:d.i18n("5a431ad16d8f7f23fac3be5650e51caa"),type:"select",placeholder:d.i18n("3d2ac2fd2c60931fff1db814662334c3"),options:[{label:d.i18n("85a49c5ed4628647f2ead9206224dba3"),value:""},{label:d.i18n("4296d7d293c9ea4a0e52c6415f0b5c96"),value:"large"},{label:d.i18n("aed1dfbc31703955e64806b799b67645"),value:"middle"}],clearable:!1,value:""},n?{type:"ae-Switch-More",mode:"normal",name:"rowSelection",label:d.i18n("e3be7b8a459a08fec8f378a0660b642b"),visibleOn:"data.selectable",hiddenOnDefault:!0,formType:"extend",form:{body:[{label:d.i18n("1f1ca9df5fa3648c718ad04649888943"),name:"rowSelection.rowClick",type:"button-group-select",value:!1,options:[{label:"CheckBox",value:!1},{label:d.i18n("596171970b639a35dadde2aa930d666a"),value:!0}]},{name:"rowSelection.disableOn",type:"ae-formulaControl",label:d.i18n("388855093d17f3df43ff80242d7a1bed")},{name:"rowSelection.selections",label:d.i18n("46705a530ba9721527a4202bae7091bd"),type:"checkboxes",joinValues:!1,inline:!1,itemClassName:"text-sm",options:[{label:d.i18n("66eeacd93a7c1bda93906fe908ad11a0"),value:"all"},{label:d.i18n("aab57a3547a451f756bb8231a1eee8d7"),value:"invert"},{label:d.i18n("76159d0d1261c0b6c310901244457e36"),value:"none"},{label:d.i18n("be4751b0c9adf1d8deee45226c6124ee"),value:"odd"},{label:d.i18n("49f4010dade8652e5aff6a2c67aa23a4"),value:"even"}],pipeIn:function(e){if(e)return e.map((function(e){return{label:e.text,value:e.key}}))},pipeOut:function(e){if(e)return e.map((function(e){return{key:e.value,text:e.label}}))}}]}}:null,{type:"ae-Switch-More",mode:"normal",name:"expandable",label:d.i18n("49b4aa407b91ac997e27314e30c03110"),hiddenOnDefault:!0,formType:"extend",form:{body:[{name:"expandable.expandableOn",visibleOn:"data.expandable",type:"ae-formulaControl",label:d.i18n("8c1f5c49de09adab9a0e0c39e0106f78")}]}},b.getSchemaTpl("switch",{name:"childrenColumnName",label:d.i18n("caca6cb58342bb604483d94f49515234"),pipeIn:function(e){return!!e},pipeOut:function(e){return e?"children":""}}),b.getSchemaTpl("switch",{name:"draggable",label:d.i18n("5bdff9fd07d2a2430ac50e1559dbee27"),pipeIn:function(e){return!!e},pipeOut:function(e){return e}})]},{title:d.i18n("3fea7ca76cdece641436d7ab0d02ab1b"),body:[b.getSchemaTpl("hidden",{label:d.i18n("dce5379cb978a8259ecfca8f08f00817")})]},{title:d.i18n("dfac151de712ab0b3618072c8a7f0a0f"),body:[b.getSchemaTpl("apiControl",{label:d.i18n("33eaf97ecb3465754855e847f14d129c"),name:"quickSaveApi"}),b.getSchemaTpl("apiControl",{label:d.i18n("ce7d31d64f2315e1d4cede288b9dfc60"),name:"quickSaveItemApi"})]}]),n?null:{type:"divider"}]},{title:d.i18n("afcde2611bdd13c1e65b4fb6a2f13425"),body:[b.getSchemaTpl("collapseGroup",[{title:d.i18n("4092ed98e9035652d4c9ca9441701ed7"),body:[b.getSchemaTpl("switch",{name:"bordered",label:d.i18n("961534b4ea37e4e88aada736b299d063"),pipeIn:b.defaultValue(!1)}),{name:"scroll.x",type:"input-number",label:d.i18n("927b639f244953f237cd12943c8b815c")},{name:"indentSize",visibleOn:"data.childrenColumnName",type:"input-number",unitOptions:[{label:"px",value:"px"}],label:d.i18n("fdd59ca00eba17d4bfebf744056ce4ab")},{name:"rowSelection.columnWidth",visibleOn:"data.rowSelection",type:"input-number",label:d.i18n("6bfd4423d8aebbf0cac7ba4d74f245bd"),description:d.i18n("21922c6479665dcba83106f8e9ffdf68")},{name:"expandable.columnWidth",visibleOn:"data.expandable",type:"input-number",label:d.i18n("31b7c58c2d9a170829b90314ff98b66a"),description:d.i18n("81ccf26d9622d139a13ba2a61bd9fea4")}]},b.getSchemaTpl("style:classNames",{isFormItem:!0,schema:[{name:"rowClassNameExpr",type:"ae-formulaControl",label:d.i18n("68e9249db7bd12ab17994b1761b049f5")},{name:"expandable.expandedRowClassNameExpr",visibleOn:"data.expandable",type:"ae-formulaControl",label:d.i18n("ef0c5b6fa16497343eedb76171d61d68")}]})])]},{title:d.i18n("10b2761db5a8e089049df39675abc550"),body:[b.getSchemaTpl("eventControl",l.__assign({name:"onEvent"},r.getEventControlConfig(a.manager,e)))]}])}}),a}return l.__extends(a,e),Object.defineProperty(a.prototype,"buildDataSchemas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a,n){var t,i;return l.__awaiter(this,void 0,void 0,(function(){var b,r,o,f,p,u,s,m,y,v,g;return l.__generator(this,(function(h){switch(h.label){case 0:if(b={$id:"tableRow",type:"object",properties:{}},!(r=e.children.find((function(e){return e.isRegion&&"columns"===e.region}))))return[3,6];o=0,f=r.children,h.label=1;case 1:return o<f.length?(p=f[o],(null==(u=p.schema)?void 0:u.name)?(s=b.properties,m=u.name,(null===(i=null===(t=p.info)||void 0===t?void 0:t.plugin)||void 0===i?void 0:i.buildDataSchemas)?[4,p.info.plugin.buildDataSchemas(p,a)]:[3,3]):[3,5]):[3,6];case 2:return y=h.sent(),[3,4];case 3:y={type:"string",title:u.label||u.title,description:u.description},h.label=4;case 4:s[m]=y,h.label=5;case 5:return o++,[3,1];case 6:return v={},n&&c.someTree(null==r?void 0:r.children,(function(e){return e.id===n.id}))&&(v=b.properties),g={$id:"table2",type:"object",properties:l.__assign(l.__assign({},v),{rows:{type:"array",title:d.i18n("77fdd35933c099cdcb64b71f3fbe7a6c"),items:b}})},"columns"===(null==a?void 0:a.region)&&(g.properties=l.__assign(l.__assign({},b.properties),g.properties)),[2,g]}}))}))}}),Object.defineProperty(a.prototype,"getAvailableContextFields",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a,n){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){return[2]}))}))}}),Object.defineProperty(a.prototype,"filterProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a=Array.isArray(e.value)?e.value:"string"==typeof e.source?i.resolveVariable(e.source,e.data):i.resolveVariable("items",e.data);if(Array.isArray(a)&&a.length)e.value=a.slice(0,10);else{var n={};Array.isArray(e.columns)&&e.columns.forEach((function(e){e.name&&c.setVariable(n,e.name,b.mockValue(e))})),e.value=b.repeatArray(n,10).map((function(e,a){return l.__assign(l.__assign({},e),{id:a+1})}))}return e.expandable&&("boolean"==typeof e.expandable&&(e.expandable={}),e.expandable.type||(e.expandable.type="container",e.expandable.body=[{type:"tpl",tpl:d.i18n("1a7bd457c08093cf2cf887403dc249d8"),inline:!1}]),e.expandable.keyField="id",e.expandable.expandedRowKeys=[1]),e}}),Object.defineProperty(a.prototype,"getRendererInfo",{enumerable:!1,configurable:!0,writable:!0,value:function(a){var n,t=this,i=a.schema,c=a.renderer;return!i.$$id&&["crud","crud2"].includes(null===(n=i.$$editor)||void 0===n?void 0:n.renderer.name)&&"table2"===c.name?l.__assign(l.__assign({},{id:i.$$editor.id}),{name:t.name,regions:t.regions,patchContainers:t.patchContainers,vRendererConfig:t.vRendererConfig,wrapperProps:t.wrapperProps,wrapperResolve:t.wrapperResolve,filterProps:t.filterProps,$schema:t.$schema,renderRenderer:t.renderRenderer}):e.prototype.getRendererInfo.call(this,a)}}),Object.defineProperty(a.prototype,"beforeInsert",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a,n,t,i,c=e.context;c.info.plugin!==this&&(null===(a=c.node.sameIdChild)||void 0===a?void 0:a.info.plugin)!==this||"columns"!==c.region||(c.data=l.__assign(l.__assign({},c.data),{title:null!==(i=null!==(n=c.data.label)&&void 0!==n?n:null===(t=c.subRenderer)||void 0===t?void 0:t.name)&&void 0!==i?i:d.i18n("bcee820bc20342a4d388a35ed32a35fe")}))}}),a}(b.BasePlugin);b.registerEditorPlugin(o),a.Table2Plugin=o}));