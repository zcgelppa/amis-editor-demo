amis.define("8fd6a84",(function(e,a,t,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("849c8c1"),c=e("8ba532b"),l=e("cc4bbf0"),d=e("8beedab"),r=e("fb32b1a");function b(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=b(l),f=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(a,"rendererName",{enumerable:!0,configurable:!0,writable:!0,value:"wizard"}),Object.defineProperty(a,"$schema",{enumerable:!0,configurable:!0,writable:!0,value:"/schemas/WizardSchema.json"}),Object.defineProperty(a,"name",{enumerable:!0,configurable:!0,writable:!0,value:r.i18n("5acec91385a3b9093e3c803f6b0d869a")}),Object.defineProperty(a,"isBaseComponent",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"description",{enumerable:!0,configurable:!0,writable:!0,value:r.i18n("c8c0339a6f9e105cfef45b76b788b635")}),Object.defineProperty(a,"docLink",{enumerable:!0,configurable:!0,writable:!0,value:"/amis/zh-CN/components/wizard"}),Object.defineProperty(a,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[r.i18n("997c7a5d34f6fc628893f509d0df32e0")]}),Object.defineProperty(a,"icon",{enumerable:!0,configurable:!0,writable:!0,value:"fa fa-list-ol"}),Object.defineProperty(a,"pluginIcon",{enumerable:!0,configurable:!0,writable:!0,value:"wizard-plugin"}),Object.defineProperty(a,"scaffold",{enumerable:!0,configurable:!0,writable:!0,value:{type:"wizard",steps:[{title:r.i18n("863a8583132d087e57aebb7d89e18a50"),body:[{type:"input-text",label:r.i18n("97d07614380da93d257f9fbf81aa56fb"),name:"var1"}]},{title:r.i18n("9757f2c59c17e9aea46e0c8adb69597e"),body:[{type:"input-text",label:r.i18n("37dd6f28ffb87d8907a286e0ef4dc7fe"),name:"var2"}]}]}}),Object.defineProperty(a,"previewSchema",{enumerable:!0,configurable:!0,writable:!0,value:{type:"wizard",className:"text-left m-b-none",steps:[{title:r.i18n("863a8583132d087e57aebb7d89e18a50"),body:[{type:"input-text",label:r.i18n("97d07614380da93d257f9fbf81aa56fb"),name:"var1"}]},{title:r.i18n("9757f2c59c17e9aea46e0c8adb69597e"),body:[]}]}}),Object.defineProperty(a,"events",{enumerable:!0,configurable:!0,writable:!0,value:[{eventName:"inited",eventLabel:r.i18n("9328b90ded33d16a873db5c0dbd815b8"),description:r.i18n("f3b97bd71a77cca1e9288089a537cf3b"),dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:r.i18n("9787088794f42c7e476cf7580f81447e")}}}]},{eventName:"finished",eventLabel:r.i18n("155149d24d20197bc0836bededf63abf"),description:r.i18n("d384a3c931bdf315e4760c9fc5980e6d"),dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:r.i18n("335d6c56c43204f9efcefe36f097d35a")}}}]},{eventName:"stepChange",eventLabel:r.i18n("5be9e21eb0797c9faa053eb0237c36f9"),description:r.i18n("d837ddaacb39a13806590da335e89397"),dataSchema:[{type:"object",properties:{"event.data.step":{type:"string",title:r.i18n("02f706d7510e68c96aa073852d90ec20")}}}]},{eventName:"change",eventLabel:r.i18n("b2a5322c8dbc0d8343315cafbd39b7ce"),description:r.i18n("d6fc04abf4889a864bea240d6b67963a"),dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:r.i18n("66f1115691b0a3e434dd3e8a6e733730")}}}]},{eventName:"submitSucc",eventLabel:r.i18n("23b62e9cbc868e024b80d2e3fad80ac7"),description:r.i18n("33c627bce8015c50152941a5b6fada32"),dataSchema:[{type:"object",properties:{"event.data":{type:"object",title:r.i18n("18344d8a27aa678e401d5e575d4efe99")}}}]},{eventName:"submitFail",eventLabel:r.i18n("f5d008dea7d2e953195a5588dea3c8e4"),description:r.i18n("574f27f7223c86545a7724d18da96651"),dataSchema:[{type:"object",properties:{"event.data.error":{type:"object",title:r.i18n("17aa713bc661f98e585ec3725d6d4f0d")}}}]},{eventName:"stepSubmitSucc",eventLabel:r.i18n("8a427977d8135a019e4f1056120bfad2"),description:r.i18n("d65dcca33a0118a0a5ce343264192ea6")},{eventName:"stepSubmitFail",eventLabel:r.i18n("5d7d91d9da162ee8fddd4d331d1434b5"),description:r.i18n("1c11d38e7ecf2facbf82f772d9222d45"),dataSchema:[{type:"object",properties:{"event.data.error":{type:"object",title:r.i18n("357954d848a9e2f12208673b3906a972")}}}]}]}),Object.defineProperty(a,"actions",{enumerable:!0,configurable:!0,writable:!0,value:[{actionType:"submit",actionLabel:r.i18n("d6c21651c32c63c8d61c85944c2c91af"),description:r.i18n("75e3dc4be4ae7aca7e1cebc13f7e486a")},{actionType:"stepSubmit",actionLabel:r.i18n("0c3005b490ef428660ca2265a714bdbb"),description:r.i18n("832efcc5c30746b84b910cde8630d491"),descDetail:function(e){return o.default.createElement("div",null,o.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"提交当前步骤数据")}},{actionType:"prev",actionLabel:r.i18n("eeb6908870e058bc23d52c1e405a054e"),description:r.i18n("fc5dbc5789e158384f634eb8ff466b46")},{actionType:"next",actionLabel:r.i18n("38ce27d84639f3a6e07c00b3b4995c0e"),description:r.i18n("832efcc5c30746b84b910cde8630d491")},{actionType:"goto-step",actionLabel:r.i18n("5fa57cab26a9d4e659c2e497018729ef"),description:r.i18n("fce22163929e8191b7de43699316f2a0"),innerArgs:["step"],descDetail:function(e){var a;return o.default.createElement("div",null,o.default.createElement("span",{className:"variable-right"},null==e?void 0:e.__rendererLabel),"切换到第",o.default.createElement("span",{className:"variable-left variable-right"},null===(a=null==e?void 0:e.args)||void 0===a?void 0:a.step),"步")},schema:d.getArgsWrapper([{name:"step",label:r.i18n("78ada959bf5bdd6c70ee411c4cf23601"),type:"ae-formulaControl",variables:"${variables}",size:"lg",mode:"horizontal",required:!0}])},{actionType:"reload",actionLabel:r.i18n("64ca9bab920a2983bcf270320d850d00"),description:r.i18n("9ef5597ac0b4da662bcd967da37eceb4")},{actionType:"setValue",actionLabel:r.i18n("67b6bec14c39be3f2602271e2fe3bcde"),description:r.i18n("0310aa5a05fe07147d8b7ef20616f659")}]}),Object.defineProperty(a,"panelTitle",{enumerable:!0,configurable:!0,writable:!0,value:r.i18n("5acec91385a3b9093e3c803f6b0d869a")}),Object.defineProperty(a,"panelBodyCreator",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return[c.getSchemaTpl("tabs",[{title:r.i18n("22b777e6fcb613b8ba83ced9594cd07e"),body:[c.getSchemaTpl("layout:originPosition",{value:"left-top"}),{name:"steps",label:r.i18n("098521c027a49fba5eb7f35430a6a9da"),type:"combo",multiple:!0,multiLine:!0,addButtonText:r.i18n("c5538d5c74235d2988e51e632c4eed0b"),scaffold:{title:r.i18n("32c65d8d7431e76029678ec7bb73a5ab"),items:[{type:"input-text",name:"var1",label:r.i18n("97d07614380da93d257f9fbf81aa56fb")}]},items:[{name:"title",type:"input-text",label:r.i18n("32c65d8d7431e76029678ec7bb73a5ab"),pipeIn:function(e,a){return e||a.label}},{type:"fieldSet",title:r.i18n("dda36edbd4626e7fc868c14f9aa1556a"),collapsed:!0,collapsable:!0,className:"fieldset m-b-none",body:[{name:"mode",label:r.i18n("1fdadb49bcabfdc36a4a9e020f597f4d"),type:"button-group-select",size:"xs",mode:"inline",className:"w-full",value:"normal",options:[{label:r.i18n("18c63459a2c069022c7790430f761214"),value:"normal"},{label:r.i18n("3720b9ef8053b7b8a54c7d8ace051912"),value:"horizontal"},{label:r.i18n("2dd25b8c21efbfee4a198787810d65d8"),value:"inline"}]},c.getSchemaTpl("horizontal",{visibleOn:'data.mode == "horizontal"'}),c.getSchemaTpl("api",{label:r.i18n("ff7cc75cc43c25c823d05d87cb8190b0"),description:r.i18n("1fd41e410930ac58e748f7704c3a05f3")}),c.getSchemaTpl("switch",{label:r.i18n("dd1b9892e274b16540aeda961437870d"),name:"asyncApi",visibleOn:"data.api",labelRemark:{trigger:"click",rootClose:!0,title:r.i18n("e638bd32b4342dfc7a15990a79f588ae"),content:r.i18n("6df230c8f18709575777172f0a9a588c"),placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),c.getSchemaTpl("api",{name:"asyncApi",label:r.i18n("daf3aec137ac74941adb1b1d3e3dd1d3"),visibleOn:"data.asyncApi != null",description:r.i18n("0705e4aba9f22ae70d906e2201a4a68d")}),{type:"divider"},c.getSchemaTpl("api",{name:"initApi",label:r.i18n("b4bc91701b86fe8543d649e97daea602"),description:r.i18n("258c437ef67e5ef12f3a766ff1802f85")}),c.getSchemaTpl("switch",{label:r.i18n("e8c46074d8432532cac25eba56bca354"),name:"initAsyncApi",visibleOn:"data.initApi",labelRemark:{trigger:"click",rootClose:!0,title:r.i18n("e638bd32b4342dfc7a15990a79f588ae"),content:r.i18n("6df230c8f18709575777172f0a9a588c"),placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),c.getSchemaTpl("api",{name:"initAsyncApi",label:r.i18n("daf3aec137ac74941adb1b1d3e3dd1d3"),visibleOn:"data.initAsyncApi != null",description:r.i18n("d2af24c0f76cf325f1c8fa939576c379")}),c.getSchemaTpl("initFetch"),{label:r.i18n("938b484df1447d8f01f96e45125eb031"),type:"input-text",name:"jumpableOn",description:r.i18n("20022725ac2c53869f7af6646ca4ba29")}]}]},{type:"input-text",name:"startStep",label:r.i18n("d4b8306441c00f01d4f044b3802c4266"),description:r.i18n("37c0c041a0ad487d23c9f42c29f6d5e1")}]},{title:r.i18n("54ea89b497ec3bb319c68844dfa3687f"),body:[c.getSchemaTpl("api",{name:"initApi",label:r.i18n("b4bc91701b86fe8543d649e97daea602"),description:r.i18n("076bd7c0adfc4f5d2abde6b309d9f53b")}),c.getSchemaTpl("switch",{label:r.i18n("e8c46074d8432532cac25eba56bca354"),name:"initAsyncApi",visibleOn:"data.initApi",labelRemark:{trigger:"click",rootClose:!0,title:r.i18n("e638bd32b4342dfc7a15990a79f588ae"),content:r.i18n("6df230c8f18709575777172f0a9a588c"),placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),c.getSchemaTpl("api",{name:"initAsyncApi",label:r.i18n("daf3aec137ac74941adb1b1d3e3dd1d3"),visibleOn:"data.initAsyncApi != null",description:r.i18n("d2af24c0f76cf325f1c8fa939576c379")}),{name:"initFetch",type:"radios",label:r.i18n("0951dad1723aa1191ce1a2e96db76051"),inline:!0,onChange:function(){},options:[{label:r.i18n("0a60ac8f02ccd2cf723f927284877851"),value:!0},{label:r.i18n("c9744f45e76d885ae1c74d4f4a934b2e"),value:!1},{label:r.i18n("a9400c408441f1f7f6d6954deb05ae9a"),value:""}]},{name:"initFetch",autoComplete:!1,visibleOn:'typeof this.initFetch !== "boolean"',type:"input-text",placeholder:"",className:"m-t-n-sm"},{type:"divider"},c.getSchemaTpl("api",{label:r.i18n("ff7cc75cc43c25c823d05d87cb8190b0"),description:r.i18n("dbb19fea1965f7ef88cf1d1e0450c0f4")}),c.getSchemaTpl("switch",{label:r.i18n("dd1b9892e274b16540aeda961437870d"),name:"asyncApi",visibleOn:"data.api",labelRemark:{trigger:"click",rootClose:!0,title:r.i18n("e638bd32b4342dfc7a15990a79f588ae"),content:r.i18n("6df230c8f18709575777172f0a9a588c"),placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),c.getSchemaTpl("api",{name:"asyncApi",label:r.i18n("daf3aec137ac74941adb1b1d3e3dd1d3"),visibleOn:"data.asyncApi != null",description:r.i18n("0705e4aba9f22ae70d906e2201a4a68d")}),{type:"divider"},c.getSchemaTpl("loadingConfig",{},{context:e})]},{title:r.i18n("afcde2611bdd13c1e65b4fb6a2f13425"),body:[{name:"mode",label:r.i18n("1fdadb49bcabfdc36a4a9e020f597f4d"),type:"button-group-select",size:"sm",mode:"inline",className:"w-full",value:"horizontal",options:[{label:r.i18n("4cde06e6162ed66720e3133cb83bc059"),value:"horizontal"},{label:r.i18n("75ac842f8e77305846f1d776f97dfaf8"),value:"vertical"}]},c.getSchemaTpl("actionPrevLabel"),c.getSchemaTpl("actionNextLabel"),c.getSchemaTpl("actionNextSaveLabel"),c.getSchemaTpl("actionFinishLabel"),c.getSchemaTpl("className"),c.getSchemaTpl("className",{name:"actionClassName",label:r.i18n("89d19c1fda4906bd7a336895835ce20e")})]},{title:r.i18n("0d98c74797e49d00bcc4c17c9d557a2b"),body:[c.getSchemaTpl("ref"),c.getSchemaTpl("name"),c.getSchemaTpl("reload"),{label:r.i18n("7653297de32f34fdec0dd0653aebf358"),name:"redirect",type:"input-text",description:r.i18n("6d00e21637c382cbd4d949b7735a2e41")},c.getSchemaTpl("visible")]},{title:r.i18n("10b2761db5a8e089049df39675abc550"),className:"p-none",body:[c.getSchemaTpl("eventControl",n.__assign({name:"onEvent"},d.getEventControlConfig(a.manager,e)))]}])]}}),Object.defineProperty(a,"patchContainers",{enumerable:!0,configurable:!0,writable:!0,value:["steps.body"]}),Object.defineProperty(a,"vRendererConfig",{enumerable:!0,configurable:!0,writable:!0,value:{regions:{body:{key:"body",label:r.i18n("3673ed1983c1be059126e3715fc34922"),wrapperResolve:function(e){return e}},actions:{label:r.i18n("c8caf94205105bac5833ab31cc2129d7"),key:"actions",preferTag:r.i18n("fa966345577ba81af19408f203db968f"),wrapperResolve:function(e){return e}}},panelTitle:r.i18n("52b36576f88c31ed3971ca4d1fccd46f"),panelBodyCreator:function(e){return c.getSchemaTpl("tabs",[{title:r.i18n("22b777e6fcb613b8ba83ced9594cd07e"),body:[c.getSchemaTpl("title",{pipeIn:function(e,a){return e||a.label}}),c.getSchemaTpl("api",{label:r.i18n("ff7cc75cc43c25c823d05d87cb8190b0"),description:r.i18n("1fd41e410930ac58e748f7704c3a05f3")}),c.getSchemaTpl("switch",{label:r.i18n("dd1b9892e274b16540aeda961437870d"),name:"asyncApi",visibleOn:"data.api",labelRemark:{trigger:"click",rootClose:!0,title:r.i18n("e638bd32b4342dfc7a15990a79f588ae"),content:r.i18n("6df230c8f18709575777172f0a9a588c"),placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),c.getSchemaTpl("api",{name:"asyncApi",label:r.i18n("daf3aec137ac74941adb1b1d3e3dd1d3"),visibleOn:"data.asyncApi != null",description:r.i18n("0705e4aba9f22ae70d906e2201a4a68d")}),{type:"divider"},c.getSchemaTpl("api",{name:"initApi",label:r.i18n("b4bc91701b86fe8543d649e97daea602"),description:r.i18n("258c437ef67e5ef12f3a766ff1802f85")}),c.getSchemaTpl("switch",{label:r.i18n("e8c46074d8432532cac25eba56bca354"),name:"initAsyncApi",visibleOn:"data.initApi",labelRemark:{trigger:"click",rootClose:!0,title:r.i18n("e638bd32b4342dfc7a15990a79f588ae"),content:r.i18n("6df230c8f18709575777172f0a9a588c"),placement:"left"},pipeIn:function(e){return null!=e},pipeOut:function(e){return e?"":void 0}}),c.getSchemaTpl("api",{name:"initAsyncApi",label:r.i18n("daf3aec137ac74941adb1b1d3e3dd1d3"),visibleOn:"data.initAsyncApi != null",description:r.i18n("d2af24c0f76cf325f1c8fa939576c379")}),c.getSchemaTpl("initFetch")]},{title:r.i18n("afcde2611bdd13c1e65b4fb6a2f13425"),body:[{name:"mode",label:r.i18n("1fdadb49bcabfdc36a4a9e020f597f4d"),type:"button-group-select",size:"xs",mode:"inline",className:"w-full",value:"normal",options:[{label:r.i18n("18c63459a2c069022c7790430f761214"),value:"normal"},{label:r.i18n("3720b9ef8053b7b8a54c7d8ace051912"),value:"horizontal"},{label:r.i18n("2dd25b8c21efbfee4a198787810d65d8"),value:"inline"}]},c.getSchemaTpl("horizontal",{visibleOn:'data.mode == "horizontal"'})]},{title:r.i18n("0d98c74797e49d00bcc4c17c9d557a2b"),body:[{label:r.i18n("938b484df1447d8f01f96e45125eb031"),type:"input-text",name:"jumpableOn",description:r.i18n("20022725ac2c53869f7af6646ca4ba29")}]}])}}}),Object.defineProperty(a,"wizardWrapperResolve",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return[].slice.call(e.querySelectorAll('[role="wizard-body"],[role="wizard-footer"]'))}}),Object.defineProperty(a,"overrides",{enumerable:!0,configurable:!0,writable:!0,value:{renderWizard:function(){var e=this,a=this.props.$$editor,t=this.props.steps,i=this.state.currentStep,l=this.super();if(!a||!(null==t?void 0:t[i-1]))return l;var d=i-1,r=t[d],b=r.$$id,f=a.plugin;return c.mapReactElement(l,(function(t){return/Wizard-step\b/.test(t.props.className)?o.default.createElement(c.VRenderer,{key:b,type:a.type,plugin:a.plugin,renderer:a.renderer,$schema:"/schemas/WizardStepSchema.json",hostId:a.id,memberIndex:d,name:r.title||"步骤".concat(d+1),id:b,draggable:!1,wrapperResolve:f.wizardWrapperResolve,schemaPath:"".concat(a.schemaPath,"/steps/").concat(d),path:"".concat(e.props.$path,"/").concat(d),data:e.props.data},c.mapReactElement(t,(function(e,t){var i,l,d;if((null===(i=e.props.schema)||void 0===i?void 0:i.body)&&e.props.schema.$$id){var r=null===(d=null===(l=f.vRendererConfig)||void 0===l?void 0:l.regions)||void 0===d?void 0:d.body;if(!r)return e;var b=n.__assign({},e.props.schema);return delete b.$$id,o.default.createElement(c.RegionWrapper,{key:r.key,preferTag:r.preferTag,name:r.key,label:r.label,regionConfig:r,placeholder:r.placeholder,editorStore:f.manager.store,manager:f.manager,children:o.default.cloneElement(e,{schema:b}),wrapperResolve:r.wrapperResolve,rendererName:a.renderer.name})}return e}))):t}))},renderFooter:function(){var e,a,t=this.props.$$editor,i=this.props.steps,n=this.state.currentStep,l=this.super();if(!t||!(null==i?void 0:i[n-1]))return l;var d=t.plugin,r=null===(a=null===(e=d.vRendererConfig)||void 0===e?void 0:e.regions)||void 0===a?void 0:a.actions;return r?o.default.createElement(c.RegionWrapper,{key:r.key,preferTag:r.preferTag,name:r.key,label:r.label,regionConfig:r,placeholder:r.placeholder,editorStore:d.manager.store,manager:d.manager,children:l,wrapperResolve:r.wrapperResolve,rendererName:t.renderer.name}):l}}}),a}return n.__extends(a,e),Object.defineProperty(a.prototype,"buildEditorToolbar",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){if(e.info.plugin===this&&e.info.renderer.name===this.rendererName&&!e.info.hostId){var t=e.node;a.push({level:"secondary",icon:"fa fa-chevron-left",tooltip:r.i18n("22c2aa6b59ab30c88fd84e8e5b3c4ad7"),onClick:function(){var e=t.getComponent();if(null==e?void 0:e.gotoStep){var a=e.state.currentStep;e.gotoStep(a-1)}}}),a.push({level:"secondary",icon:"fa fa-chevron-right",tooltip:r.i18n("7b91646d808737e7138ad8f32a3b6cde"),onClick:function(){var e=t.getComponent();if(null==e?void 0:e.gotoStep){var a=e.state.currentStep;e.gotoStep(a+1)}}})}}}),Object.defineProperty(a.prototype,"filterProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.affixFooter=!1,e}}),Object.defineProperty(a.prototype,"rendererBeforeDispatchEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a,t){if("inited"===a){var i=this.manager.dataSchema.getScope("".concat(e.id,"-").concat(e.type)),l=n.__assign({$id:"wizardInitedData"},c.jsonToJsonSchema(t));null==i||i.removeSchema(l.$id),null==i||i.addSchema(l)}}}),a}(c.BasePlugin);c.registerEditorPlugin(f),a.WizardPlugin=f}));