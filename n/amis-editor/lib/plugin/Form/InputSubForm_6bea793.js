amis.define("b0cefb9",(function(e,a,t,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("849c8c1"),l=e("167c905"),r=e("cc4bbf0"),o=e("8ba532b"),b=e("fb32b1a");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=u(r),f=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(a,"rendererName",{enumerable:!0,configurable:!0,writable:!0,value:"input-sub-form"}),Object.defineProperty(a,"$schema",{enumerable:!0,configurable:!0,writable:!0,value:"/schemas/SubFormControlSchema.json"}),Object.defineProperty(a,"name",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("d6c40a2ee219c010edbcdaa2eeb94ddd")}),Object.defineProperty(a,"isBaseComponent",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"icon",{enumerable:!0,configurable:!0,writable:!0,value:"fa fa-window-restore"}),Object.defineProperty(a,"pluginIcon",{enumerable:!0,configurable:!0,writable:!0,value:"sub-form-plugin"}),Object.defineProperty(a,"description",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("81e1ff0bb8917a9df99d737982ee24b7")}),Object.defineProperty(a,"docLink",{enumerable:!0,configurable:!0,writable:!0,value:"/amis/zh-CN/components/form/input-sub-form"}),Object.defineProperty(a,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[b.i18n("55b45c73ae417c4dead67905b1550e85")]}),Object.defineProperty(a,"scaffold",{enumerable:!0,configurable:!0,writable:!0,value:{type:"input-sub-form",name:"subform",label:b.i18n("32f6f7f8164c7f78e4b46eb50c158ab9"),form:{title:b.i18n("32c65d8d7431e76029678ec7bb73a5ab"),body:[{type:"input-text",label:b.i18n("97d07614380da93d257f9fbf81aa56fb"),name:"text"}]}}}),Object.defineProperty(a,"previewSchema",{enumerable:!0,configurable:!0,writable:!0,value:{type:"form",className:"text-left",mode:"horizontal",wrapWithPanel:!1,body:[i.__assign({},a.scaffold)]}}),Object.defineProperty(a,"panelTitle",{enumerable:!0,configurable:!0,writable:!0,value:b.i18n("d6c40a2ee219c010edbcdaa2eeb94ddd")}),Object.defineProperty(a,"panelBodyCreator",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return[o.getSchemaTpl("layout:originPosition",{value:"left-top"}),{children:function(t){return t.value,t.onChange,c.default.createElement(l.Button,{size:"sm",level:"danger",className:"m-b",block:!0,onClick:a.editDetail.bind(a,e.id)},"配置成员渲染器")}},{name:"labelField",type:"input-text",value:"label",label:b.i18n("18c113b99afa964ee988f30e81baf12b"),description:b.i18n("4d930a9c13fca9d74e1a77496abfaa58")},o.getSchemaTpl("btnLabel",{label:b.i18n("307ae20f587910da3e9bb4e885334b6a"),value:b.i18n("e366ccf1556c0672dcecba135ed5472e")}),{name:"minLength",visibleOn:"data.multiple",label:b.i18n("70c04a0f4522e39fde5f18ebc85b6232"),type:"input-number"},{name:"maxLength",visibleOn:"data.multiple",label:b.i18n("f58ea00f6a84bcb1cac174d1f68c88bd"),type:"input-number"}]}}),a}return i.__extends(a,e),Object.defineProperty(a.prototype,"filterProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(e=o.JSONPipeOut(e)).value||(e.value=[""]),e}}),Object.defineProperty(a.prototype,"buildEditorToolbar",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){var t=e.id;"input-sub-form"===e.info.renderer.name&&a.push({icon:"fa fa-expand",order:100,tooltip:b.i18n("39a6853b109ae98f1aabca90283d7edc"),onClick:this.editDetail.bind(this,t)})}}),Object.defineProperty(a.prototype,"buildEditorContextMenu",{enumerable:!1,configurable:!0,writable:!0,value:function(e,a){var t=e.id;e.schema,e.region,"input-sub-form"===e.info.renderer.name&&a.push("|",{label:b.i18n("39a6853b109ae98f1aabca90283d7edc"),onSelect:this.editDetail.bind(this,t)})}}),Object.defineProperty(a.prototype,"editDetail",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var a=this.manager,t=a.store,n=t.getNodeById(e),l=t.getValueOf(e);if(n&&l){var r=l.form,u=r.title,c=r.actions,f=r.name,d=r.size,s=r.closeOnEsc,m=r.showCloseButton,p=r.bodyClassName;r.type;var y=i.__rest(r,["title","actions","name","size","closeOnEsc","showCloseButton","bodyClassName","type"]),g={title:u,actions:c,name:f,size:d,closeOnEsc:s,showCloseButton:m,bodyClassName:p,type:"dialog",body:i.__assign({type:"form",className:"h-full pl-4 pr-4"},y)};this.manager.openSubEditor({title:b.i18n("50bfed6ada3e7d0ef4d20eb727b3d7df"),value:g,memberImmutable:["body"],onChange:function(e){var t=e.title,n=e.actions,r=e.name,b=e.size,u=e.closeOnEsc,c=e.showCloseButton,f=e.bodyClassName,d=e.body;delete(e=i.__assign(i.__assign({},l),{form:i.__assign({title:t,actions:n,name:r,size:b,closeOnEsc:u,showCloseButton:c,bodyClassName:f},d[0])})).form.type,a.panelChangeValue(e,o.diff(l,e))}})}}}),a}(o.BasePlugin);o.registerEditorPlugin(f),a.SubFormControlPlugin=f}));